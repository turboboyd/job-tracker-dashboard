"use strict";(self.webpackChunkjob_tracker_dashboard=self.webpackChunkjob_tracker_dashboard||[]).push([[4665],{4665(e,t,s){s.r(t),s.d(t,{default:()=>T});var n=s(22022),a=s(46681),o=s(96540),r=s(39819),i=s(71563);function l(e){return`board_order_v1:${e}`}function d(e){return"string"==typeof e&&new Set(r.Kk.map(e=>String(e.key))).has(e)}function c(){const e={};for(const t of r.Kk)e[t.key]=[];return e}function u(e){try{const t=localStorage.getItem(l(e));if(!t)return c();const s=JSON.parse(t),n=c();for(const e of r.Kk){const t=e.key,a=Array.isArray(s?.[t])?s?.[t]:[];n[t]=a.filter(e=>"string"==typeof e)}return n}catch{return c()}}function m(e,t){try{localStorage.setItem(l(e),JSON.stringify(t))}catch{}}function f(e,t){const s=new Map;for(let e=0;e<t.length;e++)s.set(t[e],e);const n=e.map((e,t)=>({m:e,rank:s.has(e.id)?s.get(e.id):Number.MAX_SAFE_INTEGER,stable:t}));return n.sort((e,t)=>e.rank!==t.rank?e.rank-t.rank:e.stable-t.stable),n.map(e=>e.m)}var h=s(86988);const x={ACTIVE:"APPLIED",INTERVIEW:"HR_CALL_SCHEDULED",OFFER:"OFFER_RECEIVED",HIRED:"OFFER_ACCEPTED",REJECTED:"REJECTED_PRE_INTERVIEW",NO_RESPONSE:"GHOSTING",ARCHIVED:"ARCHIVED_GENERAL"};var p=s(73431);function g(){const{userId:e}=(0,i.gv)(),{loops:t,matches:s,matchesQ:n}=function(){const e=(0,p.fZ)(),t=(0,h.g5)();return{loops:o.useMemo(()=>e.data??[],[e.data]),matches:o.useMemo(()=>t.data??[],[t.data]),matchesQ:o.useMemo(()=>({isLoading:t.isLoading,isError:t.isError,error:t.error}),[t.error,t.isError,t.isLoading])}}(),a=o.useMemo(()=>function(e){const t=new Map;for(const s of e)t.set(s.id,s.name);return t}(t),[t]),{orderByStatus:l,applyDrop:g}=function(e){const{userId:t,matches:s}=e,[n,a]=o.useState(()=>t?u(t):c());return o.useEffect(()=>{a(t?u(t):c())},[t]),o.useEffect(()=>{t&&a(e=>{const n={...e};return function(e,t){for(const t of r.Kk){const s=t.key;Array.isArray(e[s])||(e[s]=[])}const s=new Set(t.map(e=>e.id));for(const t of r.Kk){const n=t.key;e[n]=(e[n]??[]).filter(e=>s.has(e))}for(const s of t){const t=(0,r.vy)(s.status),n=d(t)?t:"ACTIVE",a=e[n]??(e[n]=[]);a.includes(s.id)||a.push(s.id)}}(n,s),m(t,n),n})},[s,t]),{orderByStatus:n,applyDrop:o.useCallback((e,s,n)=>{t&&a(a=>{const o={...a},r=[...o[e.fromStatus]??[]],i=e.fromStatus===s?r:[...o[s]??[]],l=r.indexOf(e.matchId);-1!==l&&r.splice(l,1);const d=Math.max(0,Math.min(n,i.length));return i.splice(d,0,e.matchId),o[e.fromStatus]=e.fromStatus===s?i:r,o[s]=i,m(t,o),o})},[t])}}({userId:e,matches:s}),{busy:b,onDeleteById:v,updateStatus:j}=function(){const[e,t]=(0,h.Xk)(),[s,n]=(0,h.LC)(),a=Boolean(t.isLoading||n.isLoading),r=o.useCallback(async t=>e(t),[e]),i=o.useCallback(async e=>s({matchId:e.matchId,loopId:e.loopId,status:x[e.status]}),[s]),l=o.useCallback(async(e,t)=>{const s=e.find(e=>e.id===t);s&&await r({matchId:s.id,loopId:s.loopId})},[r]);return{busy:a,deleteMatch:r,updateStatus:i,onDeleteById:l}}(),y=o.useMemo(()=>function(e,t){const s=function(e){const t=new Map;for(const e of r.Kk)t.set(e.key,[]);for(const s of e){const e=(0,r.vy)(s.status);(t.get(e)??[]).push(s)}return t}(e);for(const e of r.Kk){const n=e.key,a=f(s.get(n)??[],t[n]??[]);s.set(n,a)}return s}(s,l),[s,l]),N=o.useCallback(e=>{v(s,e).catch(()=>{})},[s,v]),w=o.useCallback(async(t,n,a)=>{if(!e)return;if(b)return;if(g(t,n,a),t.fromStatus===n)return;const o=function(e,t){return e.find(e=>e.id===t)}(s,t.matchId);o&&await j({matchId:o.id,loopId:o.loopId,status:n})},[g,b,s,j,e]);return{busy:b,queries:{matchesQ:n},data:{matches:s,byStatus:y,loopIdToName:a},actions:{onDelete:N,onDropToStatus:w}}}var b=s(43375),v=s(43627),j=s(99653),y=s(74848);function N({status:e,children:t}){const s=`lane:${e}`,{setNodeRef:n,isOver:a}=(0,b.zM)({id:s});return(0,y.jsx)("div",{ref:n,className:(0,j.xW)("flex-1 min-h-0","min-h-[180px]","rounded-xl border border-border bg-muted/40","p-sm md:p-md","overflow-y-auto overflow-x-hidden",a&&"bg-muted ring-2 ring-primary/40"),children:t})}var w=s(74979),k=s(32708);function S({match:e,loopName:t,busy:s,onDelete:r,overlay:i=!1}){const{t:l}=(0,n.Bd)(),[d,c]=o.useState(!1),u=o.useCallback(t=>{t.preventDefault(),t.stopPropagation(),s||i||window.confirm(l("board.deleteConfirm","Delete this job from the board?"))&&Promise.resolve(r(e.id)).catch(()=>{})},[s,i,r,e.id,l]),m=o.useMemo(()=>String(e.title??"").trim()||"—",[e.title]),f=o.useMemo(()=>String(e.company??"").trim()||"—",[e.company]),x=o.useMemo(()=>(0,h.v)(e.matchedAt),[e.matchedAt]),p=o.useMemo(()=>{const t=(0,h.FL)(e.platform);return t?t.toUpperCase():""},[e.platform]),g=o.useMemo(()=>[e.location,p,x,t].map(e=>String(e??"").trim()).filter(Boolean).join(" • "),[e.location,x,t,p]),b=o.useMemo(()=>String(e.url??"").trim(),[e.url]),v=Boolean(b),N=o.useCallback(()=>{s||i||c(!0)},[s,i]);let w;return w=i?"cursor-grabbing":s?"opacity-60 cursor-not-allowed":"cursor-pointer md:cursor-grab",(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{role:"button",tabIndex:0,onClick:N,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||N()},className:(0,j.xW)("rounded-xl outline-none",w,"focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background"),children:(0,y.jsxs)(a.Zp,{variant:"default",padding:"md",shadow:"sm",interactive:!i,className:(0,j.xW)("relative flex flex-col gap-sm","transition-[box-shadow,transform] duration-fast ease-ease-out",!s&&!i&&"hover:shadow-md hover:-translate-y-[1px]",i&&"shadow-lg"),children:[i?null:(0,y.jsx)("button",{type:"button","aria-label":l("board.delete","Delete"),title:l("board.delete","Delete"),disabled:s,className:(0,j.xW)("absolute right-2 top-2","inline-flex h-10 w-10 md:h-8 md:w-8 items-center justify-center rounded-full","border border-border bg-card text-muted-foreground","shadow-sm","hover:bg-muted hover:text-foreground","disabled:opacity-50 disabled:cursor-not-allowed","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background"),onPointerDown:e=>{e.preventDefault(),e.stopPropagation()},onClick:u,children:(0,y.jsx)(k.A,{className:"h-5 w-5 md:h-4 md:w-4"})}),(0,y.jsxs)("div",{className:"min-w-0",children:[(0,y.jsxs)("div",{className:"min-w-0 whitespace-nowrap overflow-hidden text-ellipsis text-sm",children:[(0,y.jsx)("span",{className:"font-semibold text-foreground",children:m}),(0,y.jsx)("span",{className:"ml-2 text-muted-foreground",children:f})]}),g?(0,y.jsx)("div",{className:"mt-1 text-xs text-muted-foreground whitespace-nowrap overflow-hidden text-ellipsis",children:g}):null]}),v?(0,y.jsx)("div",{className:"pt-2",children:(0,y.jsx)("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary underline hover:no-underline",onClick:e=>e.stopPropagation(),children:l("board.openLink","Open link")})}):null]})}),i?null:(0,y.jsx)(h.B6,{open:d,onOpenChange:c,match:e,loopName:t,busy:s,onDelete:e=>{Promise.resolve(r(e)).catch(()=>{})}})]})}function I({match:e,loopName:t,busy:s,onDelete:n,index:a}){const{setNodeRef:o,attributes:r,listeners:i,transform:l,transition:d,isDragging:c}=(0,v.gl)({id:e.id,disabled:s,data:{matchId:e.id,status:e.status,index:a}}),u={transform:w.Ks.Transform.toString(l),transition:d,opacity:c?.25:1};return(0,y.jsx)("div",{ref:o,style:u,className:(0,j.xW)("select-none touch-pan-y touch-manipulation md:touch-none",c&&"z-10"),...r,...i,children:(0,y.jsx)(S,{match:e,loopName:t,busy:s,onDelete:n,overlay:!1})})}function C({match:e,loopName:t,busy:s,onDelete:n}){return(0,y.jsx)("div",{className:"rotate-[1deg]",children:(0,y.jsx)(S,{match:e,loopName:t,busy:s,onDelete:n,overlay:!0})})}function D({status:e,title:t,matches:s,loopIdToName:r,busy:i,onDelete:l}){const{t:d}=(0,n.Bd)(),c=o.useMemo(()=>s.map(e=>e.id),[s]);return(0,y.jsxs)("div",{className:"w-[calc(100vw-2rem)] md:w-[320px] shrink-0 h-full min-h-0 flex flex-col",children:[(0,y.jsx)(a.Zp,{variant:"subtle",padding:"md",shadow:"none",className:"shrink-0 mb-sm md:mb-md",children:(0,y.jsxs)("div",{className:"flex items-center justify-between",children:[(0,y.jsx)("div",{className:"text-sm font-semibold text-foreground",children:t}),(0,y.jsx)("div",{className:"text-xs text-muted-foreground",children:s.length})]})}),(0,y.jsxs)(N,{status:e,children:[(0,y.jsx)(v.gB,{id:e,items:c,strategy:v._G,children:(0,y.jsx)("div",{className:"flex flex-col gap-sm md:gap-md",children:s.map((e,t)=>(0,y.jsx)(I,{match:e,loopName:r.get(e.loopId)??"",busy:i,onDelete:l,index:t},e.id))})}),0===s.length?(0,y.jsx)("div",{className:"pt-md text-xs text-muted-foreground",children:d("board.dropHere","Drop matches here.")}):null]})]})}function E(e){const t=new Map;for(const s of r.Kk)t.set(s.key,[...e.data.byStatus.get(s.key)??[]]);return t}function M(e,t){for(const[s,n]of e.entries())if(n.some(e=>e.id===t))return s;return null}function A(e,t){const s=e.findIndex(e=>e.id===t);if(-1===s)return{next:e,item:null};const n=e[s];return{next:[...e.slice(0,s),...e.slice(s+1)],item:n}}function B(e,t,s){const n=Math.max(0,Math.min(s,e.length));return[...e.slice(0,n),t,...e.slice(n)]}function L({status:e,label:t,isActive:s,onClick:n}){const a=`lane-tab:${e}`,{setNodeRef:o,isOver:r}=(0,b.zM)({id:a});return(0,y.jsx)("button",{ref:o,type:"button",onClick:n,className:["shrink-0 rounded-full px-md py-sm text-sm","border border-border","transition",s?"bg-foreground text-background":"bg-background text-foreground",r?"ring-2 ring-primary/40":""].join(" "),children:t})}function V({vm:e}){const{t}=(0,n.Bd)(),s=o.useMemo(()=>r.Kk.map(e=>({status:e.key,title:t(e.labelKey,{defaultValue:e.key})})),[t]),[a,i]=o.useState(s[0]?.status??"ACTIVE"),l=o.useRef(null),d=o.useRef({}),c=o.useCallback(e=>t=>{d.current[e]=t},[]),u=o.useCallback(e=>{const t=d.current[e];t&&t.scrollIntoView({behavior:"smooth",inline:"start",block:"nearest"})},[]),m=o.useRef(null),f=o.useCallback(()=>{m.current||(m.current=window.requestAnimationFrame(()=>{m.current=null;const e=l.current;if(!e)return;const t=e.scrollLeft;let n=a,o=Number.POSITIVE_INFINITY;for(const{status:e}of s){const s=d.current[e];if(!s)continue;const a=Math.abs(s.offsetLeft-t);a<o&&(o=a,n=e)}n&&n!==a&&i(n)}))},[a,s]);o.useEffect(()=>()=>{m.current&&window.cancelAnimationFrame(m.current)},[]);const{sensors:h,columnsState:x,activeMatch:p,activeLoopName:g,handleDragStart:v,handleDragOver:j,handleDragEnd:N}=function(e){const t=(0,b.FR)((0,b.MS)(b.AN,{activationConstraint:{distance:6}}),(0,b.MS)(b.IG,{activationConstraint:{delay:220,tolerance:6}})),[s,n]=o.useState(()=>E(e)),[a,i]=o.useState(null),l=o.useRef(null);o.useEffect(()=>{if(a)return;const t=l.current;if(t){const s=e.data.byStatus.get(t.toStatus)??[],n=s.findIndex(e=>e.id===t.matchId),a=n===t.toIndex||t.toIndex>=s.length&&n===s.length-1;if(-1===n||!a)return;l.current=null}n(E(e))},[e.data.byStatus,e.data.matches,a,e]);const d=o.useMemo(()=>{if(!a)return null;for(const e of s.values()){const t=e.find(e=>e.id===a);if(t)return t}return null},[a,s]),c=o.useMemo(()=>d?e.data.loopIdToName.get(d.loopId)??"":"",[d,e.data.loopIdToName]),u=o.useRef(null),m=o.useCallback(e=>{const t=String(e.active.id);i(t);const n=M(s,t)??(d?(0,r.vy)(d.status):void 0),a=n?s.get(n)?.findIndex(e=>e.id===t)??0:0;u.current=n?{matchId:t,fromStatus:n,fromIndex:a}:null},[s,d]),f=o.useCallback(e=>{const{active:t,over:s}=e;if(!s)return;const a=String(t.id),o=String(s.id),r=t.rect.current.translated&&t.rect.current.translated.top>s.rect.top+s.rect.height/2?1:0;n(e=>{const t=function(e){const t=new Map;for(const[s,n]of e.entries())t.set(s,[...n]);return t}(e),n=M(t,a);if(!n)return e;const i=(l=o).startsWith("lane:")?l.slice(5):l.startsWith("lane-tab:")?l.slice(9):null;var l;const d=s.data.current?.sortable,c=d?.containerId??i??M(t,o);if(!c)return e;const u=t.get(n)??[],m=t.get(c)??[],f="number"==typeof d?.index?d.index+r:m.length;if(n===c){const s=u.findIndex(e=>e.id===a);if(-1===s)return e;let o=f;if(o>s&&(o-=1),s===o)return e;const{next:r,item:i}=A(u,a);return i?(t.set(n,B(r,i,o)),t):e}const{next:h,item:x}=A(u,a);return x?(t.set(n,h),t.set(c,B(m,x,f)),t):e})},[]),h=o.useCallback(async t=>{const{active:a,over:o}=t,r=u.current;if(u.current=null,i(null),!r)return;if(!o)return void n(E(e));const d=String(a.id),c=M(s,d);if(!c)return void n(E(e));const m=(s.get(c)??[]).findIndex(e=>e.id===d);l.current={matchId:d,toStatus:c,toIndex:Math.max(0,m)};try{await e.actions.onDropToStatus({matchId:d,fromStatus:r.fromStatus,fromIndex:r.fromIndex},c,Math.max(0,m))}catch{l.current=null,n(E(e))}},[s,e]);return{sensors:t,columnsState:s,activeId:a,activeMatch:d,activeLoopName:c,handleDragStart:m,handleDragOver:f,handleDragEnd:h}}(e);return(0,y.jsxs)(b.Mp,{sensors:h,collisionDetection:b.y$,onDragStart:v,onDragOver:j,onDragEnd:N,children:[(0,y.jsxs)("div",{className:"h-full min-h-0 flex flex-col overflow-hidden",children:[(0,y.jsx)("div",{className:"md:hidden shrink-0 px-md pb-sm",children:(0,y.jsx)("div",{className:"flex gap-sm overflow-x-auto no-scrollbar py-sm",children:s.map(({status:e,title:t})=>(0,y.jsx)(L,{status:e,label:t,isActive:a===e,onClick:()=>{i(e),u(e)}},e))})}),(0,y.jsx)("div",{ref:l,onScroll:f,className:["flex-1 min-h-0","overflow-x-auto overflow-y-hidden","md:overflow-x-auto","snap-x snap-mandatory md:snap-none"].join(" "),children:(0,y.jsx)("div",{className:"h-full min-h-0 flex items-stretch gap-md min-w-max px-md md:px-0",children:s.map(({status:t,title:s})=>{const n=x.get(t)??[];return(0,y.jsx)("div",{ref:c(t),className:"snap-start h-full",children:(0,y.jsx)(D,{status:t,title:s,matches:n,loopIdToName:e.data.loopIdToName,busy:e.busy,onDelete:e.actions.onDelete})},t)})})})]}),(0,y.jsx)(b.Hd,{adjustScale:!1,children:p?(0,y.jsx)("div",{className:"w-[min(90vw,320px)]",children:(0,y.jsx)(C,{match:p,loopName:g,busy:e.busy,onDelete:e.actions.onDelete})}):null})]})}function R({matchesQ:e,isEmpty:t,children:s}){const{t:o}=(0,n.Bd)();return e.isLoading?(0,y.jsx)(a.xS,{children:o("board.loading","Loading matches…")}):e.isError?(0,y.jsx)(a.xS,{children:(0,j.u1)(e.error)}):t?(0,y.jsx)(a.xS,{children:o("board.empty","No matches yet.")}):(0,y.jsx)(y.Fragment,{children:s})}function T(){const e=g(),{t}=(0,n.Bd)(),s=e.queries.matchesQ,o=0===e.data.matches.length,r=t("board.title","Board"),i=t("board.subtitle","Drag matches between columns to update status.");return(0,y.jsxs)("div",{className:"h-full min-h-0 flex flex-col overflow-hidden",children:[(0,y.jsx)(a.zY,{title:r,subtitle:i}),(0,y.jsx)("div",{className:"flex-1 min-h-0 overflow-hidden",children:(0,y.jsx)(R,{matchesQ:s,isEmpty:o,children:(0,y.jsx)(V,{vm:e})})})]})}},61300(e,t,s){s.d(t,{md:()=>c,VX:()=>i,Wq:()=>f});var n=s(96540),a=s(22022),o=s(39819),r=s(74848);function i({status:e,fallback:t}){const{t:s}=(0,a.Bd)(),n=(0,o.Ax)(e),i=t??n.key.split("_").map(e=>e?e[0].toUpperCase()+e.slice(1).toLowerCase():e).join(" ");return(0,r.jsx)(r.Fragment,{children:s(n.labelKey,{defaultValue:i})})}function l(...e){return e.filter(Boolean).join(" ")}const d={xs:"h-1.5 w-1.5",sm:"h-2 w-2",md:"h-2.5 w-2.5"};function c({status:e,className:t,size:s="sm"}){const n=(0,o.Xu)(e);return(0,r.jsx)("span",{"aria-hidden":!0,className:l("inline-block rounded-full",d[s],o.Ss[n],t)})}function u(...e){return e.filter(Boolean).join(" ")}const m={sm:"h-9 px-sm text-sm",md:"h-10 px-md text-sm"};function f({value:e,onChange:t,disabled:s=!1,stage:a,options:l,className:d,size:c="sm"}){const f=(0,n.useMemo)(()=>l?.length?l:a?(0,o.kF)(a).map(e=>e.key):o.i2,[l,a]);return(0,r.jsx)("select",{value:e,disabled:s,onChange:e=>t(e.target.value),className:u("rounded-full border border-border bg-card text-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background",m[c],d),children:f.map(e=>(0,r.jsx)("option",{value:e,children:(0,r.jsx)(i,{status:e})},e))})}},86988(e,t,s){s.d(t,{Cq:()=>p,B6:()=>v,v:()=>x,FL:()=>h,Xk:()=>n.Xk,g5:()=>n.g5,$V:()=>n.$V,LC:()=>n.LC});var n=s(15019),a=(s(65546),s(96540)),o=s(22022),r=s(39819),i=s(74848);function l(...e){return e.filter(Boolean).join(" ")}function d({status:e,className:t}){const{t:s}=(0,o.Bd)(),n=(0,r.Ax)(e);return(0,i.jsx)("span",{className:l("inline-flex items-center rounded-full px-2 py-1 text-xs font-medium",r.oZ[(0,r.Xu)(e)],t),children:s(n.labelKey)})}var c=s(61300),u=s(46681),m=s(61239);const f=new Set(m.Aj.map(e=>e.id));function h(e){if("string"!=typeof e)return"";const t=e.trim().toLowerCase();return t&&f.has(t)?t:""}function x(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return e;const s=String(t.getFullYear()),n=String(t.getMonth()+1).padStart(2,"0");return`${String(t.getDate()).padStart(2,"0")}.${n}.${s}`}function p({match:e,loopName:t,busy:s,onUpdateStatus:n,onDelete:r,onEdit:l}){const{t:d}=(0,o.Bd)(),m=a.useMemo(()=>x(e.matchedAt),[e.matchedAt]),f=a.useMemo(()=>{const t=h(e.platform);return t?t.toUpperCase():""},[e.platform]),p=a.useMemo(()=>[e.location,f,m,t].map(e=>String(e??"").trim()).filter(Boolean).join(" • "),[e.location,f,m,t]);return(0,i.jsxs)(u.Zp,{variant:"default",padding:"md",shadow:"sm",className:"flex flex-col gap-sm",children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-md",children:[(0,i.jsxs)("div",{className:"min-w-0",children:[(0,i.jsxs)("div",{className:"min-w-0 whitespace-nowrap overflow-hidden text-ellipsis text-sm",children:[(0,i.jsx)("span",{className:"font-semibold text-foreground",children:e.title||"—"}),(0,i.jsx)("span",{className:"ml-2 text-muted-foreground",children:e.company||"—"})]}),p?(0,i.jsx)("div",{className:"mt-1 text-xs text-muted-foreground whitespace-nowrap overflow-hidden text-ellipsis",children:p}):null]}),(0,i.jsx)("div",{className:"flex items-center gap-sm",children:(0,i.jsx)(g,{value:e.status})})]}),(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-sm pt-xs",children:[(0,i.jsxs)("label",{className:"flex items-center gap-sm text-sm",children:[(0,i.jsx)("span",{className:"text-muted-foreground",children:d("matches.common.status")}),(0,i.jsx)(c.Wq,{value:e.status,disabled:s,onChange:t=>n(e.id,t),size:"sm"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-sm",children:[l?(0,i.jsx)(u.$n,{variant:"outline",size:"sm",shape:"pill",disabled:s,onClick:()=>l(e.id),children:d("matches.common.edit")}):null,(0,i.jsx)(u.$n,{variant:"outline",size:"sm",shape:"pill",disabled:s,onClick:()=>r(e.id),children:d("matches.common.delete")})]})]})]})}function g({value:e}){return(0,i.jsx)(d,{status:e})}var b=s(99653);function v({open:e,onOpenChange:t,match:s,loopName:n,busy:r,onDelete:l,onUpdateStatus:d,onEdit:m}){const{t:f}=(0,o.Bd)(),p=a.useMemo(()=>x(s.matchedAt),[s.matchedAt]),g=a.useMemo(()=>{const e=h(s.platform);return e?e.toUpperCase():""},[s.platform]),v=a.useMemo(()=>[s.location,g,p,n].map(e=>String(e??"").trim()).filter(Boolean).join(" • "),[s.location,g,p,n]),y=a.useMemo(()=>String(s.title??"").trim()||f("matches.details.untitled",{defaultValue:"Match"}),[s.title,f]),N=a.useMemo(()=>String(s.url??"").trim(),[s.url]),w=Boolean(N),k=a.useMemo(()=>String(s.description??"").trim(),[s.description]),S=Boolean(k);return(0,i.jsx)(u.aF,{open:e,onOpenChange:t,title:y,description:v||void 0,size:"md",children:(0,i.jsxs)("div",{className:"flex flex-col gap-lg",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-md",children:[(0,i.jsx)(j,{label:f("matches.fields.location",{defaultValue:"Location"}),value:s.location}),(0,i.jsx)(j,{label:f("matches.fields.platform",{defaultValue:"Platform"}),value:g}),(0,i.jsx)(j,{label:f("matches.fields.matchedAt",{defaultValue:"Matched"}),value:p}),(0,i.jsx)(j,{label:f("matches.fields.loop",{defaultValue:"Loop"}),value:n})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-semibold text-foreground",children:f("matches.fields.description",{defaultValue:"Description"})}),(0,i.jsx)("div",{className:(0,b.xW)("mt-2 rounded-xl border border-border bg-card p-md","text-sm leading-relaxed whitespace-pre-wrap",!S&&"text-muted-foreground"),children:S?k:f("matches.details.noDescription",{defaultValue:"No description."})})]}),(0,i.jsxs)("div",{className:(0,b.xW)("flex flex-wrap items-center justify-end gap-sm pt-sm"),children:[(0,i.jsx)("span",{className:"mr-auto rounded-full border border-border bg-card px-sm py-1 text-xs text-muted-foreground",children:(0,i.jsx)(c.VX,{status:s.status})}),w?(0,i.jsx)(u.$n,{asChild:!0,variant:"outline",size:"sm",shape:"pill",disabled:r,children:(0,i.jsx)("a",{href:N,target:"_blank",rel:"noreferrer",children:f("matches.common.openLink",{defaultValue:"Open link"})})}):null,d?(0,i.jsx)(c.Wq,{value:s.status,disabled:r,onChange:e=>d(s.id,e),size:"sm"}):null,m?(0,i.jsx)(u.$n,{variant:"outline",size:"sm",shape:"pill",disabled:r,onClick:()=>m(s.id),children:f("matches.common.edit",{defaultValue:"Edit"})}):null,(0,i.jsx)(u.$n,{variant:"outline",size:"sm",shape:"pill",disabled:r,onClick:()=>l(s.id),children:f("matches.common.delete",{defaultValue:"Delete"})})]})]})})}function j({label:e,value:t}){const s=String(t??"").trim();return(0,i.jsxs)("div",{className:"rounded-xl border border-border bg-card p-md",children:[(0,i.jsx)("div",{className:"text-xs text-muted-foreground",children:e}),(0,i.jsx)("div",{className:"mt-1 text-sm font-medium text-foreground whitespace-nowrap overflow-hidden text-ellipsis",children:s||"—"})]})}}}]);
//# sourceMappingURL=4665.6b06c97f.chunk.js.map