{"version":3,"file":"assets/js/5354.a1876d56.chunk.js","mappings":"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","sources":["webpack://job-tracker-dashboard/./src/entities/application/model/status.ts","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/api/applicationsRepo.ts","webpack://job-tracker-dashboard/./src/entities/application/ui/StatusKit/StatusLabel.tsx","webpack://job-tracker-dashboard/./src/entities/application/ui/StatusKit/StatusDot.tsx","webpack://job-tracker-dashboard/./src/entities/application/ui/StatusKit/StatusMenu.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/model/types.ts","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/ui/ApplicationListItem.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/ui/ApplicationsListCard.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/ui/ViewModeSwitch.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/ui/ApplicationsPageHeader.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/ui/PipelineStatusTabs.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/ui/ViewMetaBar.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/ui/ApplicationsToolbar.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/ui/CreateApplicationCard.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/ApplicationsPage.tsx","webpack://job-tracker-dashboard/./src/pages/ApplicationsPage/model/useApplicationsPage.ts"],"sourcesContent":["/**\n * Stage = основной этап процесса.\n * Это поле должно быть стабильным (используется в фильтрах/запросах/графиках).\n */\nexport type Stage =\n  | \"ACTIVE\"\n  | \"INTERVIEW\"\n  | \"OFFER\"\n  | \"HIRED\"\n  | \"REJECTED\"\n  | \"NO_RESPONSE\"\n  | \"ARCHIVED\";\n\nexport const STAGES: readonly Stage[] = [\n  \"ACTIVE\",\n  \"INTERVIEW\",\n  \"OFFER\",\n  \"HIRED\",\n  \"REJECTED\",\n  \"NO_RESPONSE\",\n  \"ARCHIVED\",\n] as const;\n\n/**\n * “Статус” = конкретное состояние карточки (подстатус).\n * Stage используется для группировки/фильтров, но UI чаще работает со StatusKey.\n */\nexport type StatusKey =\n  // ACTIVE (prep + applied + waiting)\n  | \"SAVED\"\n  | \"REVIEWED\"\n  | \"CV_ADAPTING\"\n  | \"COVER_LETTER_WRITING\"\n  | \"READY_TO_APPLY\"\n  | \"APPLIED\"\n  | \"REAPPLIED\"\n  | \"WAITING_RESPONSE\"\n  | \"AUTO_REPLY_RECEIVED\"\n  | \"RESPONSE_RECEIVED\"\n  | \"MORE_INFO_REQUESTED\"\n  | \"FOLLOW_UP_REQUIRED\"\n  | \"WONT_APPLY\"\n  // INTERVIEW\n  | \"HR_CALL_SCHEDULED\"\n  | \"HR_PASSED\"\n  | \"HR_FAILED\"\n  | \"TECH_SCHEDULED\"\n  | \"TECH_PASSED\"\n  | \"TECH_FAILED\"\n  | \"FINAL_INTERVIEW\"\n  | \"TEST_TASK_RECEIVED\"\n  | \"TEST_TASK_SUBMITTED\"\n  | \"WAITING_DECISION\"\n  // OFFER\n  | \"OFFER_RECEIVED\"\n  | \"OFFER_REVIEWING\"\n  | \"NEGOTIATING\"\n  | \"OFFER_ACCEPTED\"\n  | \"OFFER_DECLINED\"\n  | \"OFFER_RESCINDED\"\n  // HIRED\n  | \"START_PLANNED\"\n  | \"STARTED\"\n  // REJECTED / NO_RESPONSE / ARCHIVED\n  | \"REJECTED_PRE_INTERVIEW\"\n  | \"REJECTED_AFTER_INTERVIEW\"\n  | \"ROLE_CLOSED\"\n  | \"GHOSTING\"\n  | \"ARCHIVED_GENERAL\"\n  | \"KEEP_IN_TOUCH\"\n  | \"WITHDREW_BEFORE_START\";\n\nexport type StatusColor =\n  | \"neutral\"\n  | \"info\"\n  | \"warning\"\n  | \"success\"\n  | \"danger\"\n  | \"purple\";\n\nexport const STATUS_COLORS: readonly StatusColor[] = [\n  \"neutral\",\n  \"info\",\n  \"warning\",\n  \"success\",\n  \"danger\",\n  \"purple\",\n] as const;\n\nexport type BoardColumnKey =\n  | \"ACTIVE\"\n  | \"INTERVIEW\"\n  | \"OFFER\"\n  | \"HIRED\"\n  | \"REJECTED\"\n  | \"NO_RESPONSE\"\n  | \"ARCHIVED\";\n\n\nexport const BOARD_COLUMN_KEYS: readonly BoardColumnKey[] = [\n  \"ACTIVE\",\n  \"INTERVIEW\",\n  \"OFFER\",\n  \"HIRED\",\n  \"REJECTED\",\n  \"NO_RESPONSE\",\n  \"ARCHIVED\",\n] as const;\n\nexport type StatusMeta = {\n  key: StatusKey;\n  stage: Stage;\n  labelKey: string;\n  color: StatusColor;\n  boardColumn: BoardColumnKey;\n  order: number;\n};\n\nconst STATUS_BASE: Record<StatusKey, StatusMeta> = {\n  // =========================\n  // ACTIVE\n  // =========================\n  SAVED: {\n    key: \"SAVED\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.SAVED\",\n    color: \"neutral\",\n    boardColumn: \"ACTIVE\",\n    order: 10,\n  },\n  REVIEWED: {\n    key: \"REVIEWED\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.REVIEWED\",\n    color: \"neutral\",\n    boardColumn: \"ACTIVE\",\n    order: 20,\n  },\n  CV_ADAPTING: {\n    key: \"CV_ADAPTING\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.CV_ADAPTING\",\n    color: \"info\",\n    boardColumn: \"ACTIVE\",\n    order: 30,\n  },\n  COVER_LETTER_WRITING: {\n    key: \"COVER_LETTER_WRITING\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.COVER_LETTER_WRITING\",\n    color: \"info\",\n    boardColumn: \"ACTIVE\",\n    order: 40,\n  },\n  READY_TO_APPLY: {\n    key: \"READY_TO_APPLY\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.READY_TO_APPLY\",\n    color: \"info\",\n    boardColumn: \"ACTIVE\",\n    order: 50,\n  },\n  APPLIED: {\n    key: \"APPLIED\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.APPLIED\",\n    color: \"warning\",\n    boardColumn: \"ACTIVE\",\n    order: 60,\n  },\n  REAPPLIED: {\n    key: \"REAPPLIED\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.REAPPLIED\",\n    color: \"warning\",\n    boardColumn: \"ACTIVE\",\n    order: 70,\n  },\n  WAITING_RESPONSE: {\n    key: \"WAITING_RESPONSE\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.WAITING_RESPONSE\",\n    color: \"warning\",\n    boardColumn: \"ACTIVE\",\n    order: 80,\n  },\n  AUTO_REPLY_RECEIVED: {\n    key: \"AUTO_REPLY_RECEIVED\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.AUTO_REPLY_RECEIVED\",\n    color: \"warning\",\n    boardColumn: \"ACTIVE\",\n    order: 90,\n  },\n  RESPONSE_RECEIVED: {\n    key: \"RESPONSE_RECEIVED\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.RESPONSE_RECEIVED\",\n    color: \"info\",\n    boardColumn: \"ACTIVE\",\n    order: 100,\n  },\n  MORE_INFO_REQUESTED: {\n    key: \"MORE_INFO_REQUESTED\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.MORE_INFO_REQUESTED\",\n    color: \"info\",\n    boardColumn: \"ACTIVE\",\n    order: 110,\n  },\n  FOLLOW_UP_REQUIRED: {\n    key: \"FOLLOW_UP_REQUIRED\",\n    stage: \"ACTIVE\",\n    labelKey: \"status.FOLLOW_UP_REQUIRED\",\n    color: \"warning\",\n    boardColumn: \"ACTIVE\",\n    order: 120,\n  },\n  WONT_APPLY: {\n    key: \"WONT_APPLY\",\n    stage: \"REJECTED\",\n    labelKey: \"status.WONT_APPLY\",\n    color: \"danger\",\n    boardColumn: \"REJECTED\",\n    order: 900,\n  },\n\n  // =========================\n  // INTERVIEW\n  // =========================\n  HR_CALL_SCHEDULED: {\n    key: \"HR_CALL_SCHEDULED\",\n    stage: \"INTERVIEW\",\n    labelKey: \"status.HR_CALL_SCHEDULED\",\n    color: \"purple\",\n    boardColumn: \"INTERVIEW\",\n    order: 200,\n  },\n  HR_PASSED: {\n    key: \"HR_PASSED\",\n    stage: \"INTERVIEW\",\n    labelKey: \"status.HR_PASSED\",\n    color: \"purple\",\n    boardColumn: \"INTERVIEW\",\n    order: 210,\n  },\n  HR_FAILED: {\n    key: \"HR_FAILED\",\n    stage: \"REJECTED\",\n    labelKey: \"status.HR_FAILED\",\n    color: \"danger\",\n    boardColumn: \"REJECTED\",\n    order: 910,\n  },\n  TECH_SCHEDULED: {\n    key: \"TECH_SCHEDULED\",\n    stage: \"INTERVIEW\",\n    labelKey: \"status.TECH_SCHEDULED\",\n    color: \"purple\",\n    boardColumn: \"INTERVIEW\",\n    order: 220,\n  },\n  TECH_PASSED: {\n    key: \"TECH_PASSED\",\n    stage: \"INTERVIEW\",\n    labelKey: \"status.TECH_PASSED\",\n    color: \"purple\",\n    boardColumn: \"INTERVIEW\",\n    order: 230,\n  },\n  TECH_FAILED: {\n    key: \"TECH_FAILED\",\n    stage: \"REJECTED\",\n    labelKey: \"status.TECH_FAILED\",\n    color: \"danger\",\n    boardColumn: \"REJECTED\",\n    order: 920,\n  },\n  FINAL_INTERVIEW: {\n    key: \"FINAL_INTERVIEW\",\n    stage: \"INTERVIEW\",\n    labelKey: \"status.FINAL_INTERVIEW\",\n    color: \"purple\",\n    boardColumn: \"INTERVIEW\",\n    order: 240,\n  },\n  TEST_TASK_RECEIVED: {\n    key: \"TEST_TASK_RECEIVED\",\n    stage: \"INTERVIEW\",\n    labelKey: \"status.TEST_TASK_RECEIVED\",\n    color: \"purple\",\n    boardColumn: \"INTERVIEW\",\n    order: 250,\n  },\n  TEST_TASK_SUBMITTED: {\n    key: \"TEST_TASK_SUBMITTED\",\n    stage: \"INTERVIEW\",\n    labelKey: \"status.TEST_TASK_SUBMITTED\",\n    color: \"purple\",\n    boardColumn: \"INTERVIEW\",\n    order: 260,\n  },\n  WAITING_DECISION: {\n    key: \"WAITING_DECISION\",\n    stage: \"INTERVIEW\",\n    labelKey: \"status.WAITING_DECISION\",\n    color: \"purple\",\n    boardColumn: \"INTERVIEW\",\n    order: 270,\n  },\n\n  // =========================\n  // OFFER\n  // =========================\n  OFFER_RECEIVED: {\n    key: \"OFFER_RECEIVED\",\n    stage: \"OFFER\",\n    labelKey: \"status.OFFER_RECEIVED\",\n    color: \"success\",\n    boardColumn: \"OFFER\",\n    order: 300,\n  },\n  OFFER_REVIEWING: {\n    key: \"OFFER_REVIEWING\",\n    stage: \"OFFER\",\n    labelKey: \"status.OFFER_REVIEWING\",\n    color: \"success\",\n    boardColumn: \"OFFER\",\n    order: 310,\n  },\n  NEGOTIATING: {\n    key: \"NEGOTIATING\",\n    stage: \"OFFER\",\n    labelKey: \"status.NEGOTIATING\",\n    color: \"success\",\n    boardColumn: \"OFFER\",\n    order: 320,\n  },\n  OFFER_ACCEPTED: {\n    key: \"OFFER_ACCEPTED\",\n    stage: \"HIRED\",\n    labelKey: \"status.OFFER_ACCEPTED\",\n    color: \"success\",\n    boardColumn: \"OFFER\",\n    order: 330,\n  },\n  OFFER_DECLINED: {\n    key: \"OFFER_DECLINED\",\n    stage: \"ARCHIVED\",\n    labelKey: \"status.OFFER_DECLINED\",\n    color: \"neutral\",\n    boardColumn: \"REJECTED\",\n    order: 800,\n  },\n  OFFER_RESCINDED: {\n    key: \"OFFER_RESCINDED\",\n    stage: \"REJECTED\",\n    labelKey: \"status.OFFER_RESCINDED\",\n    color: \"danger\",\n    boardColumn: \"REJECTED\",\n    order: 930,\n  },\n\n  // =========================\n  // HIRED\n  // =========================\n  START_PLANNED: {\n    key: \"START_PLANNED\",\n    stage: \"HIRED\",\n    labelKey: \"status.START_PLANNED\",\n    color: \"success\",\n    boardColumn: \"OFFER\",\n    order: 400,\n  },\n  STARTED: {\n    key: \"STARTED\",\n    stage: \"HIRED\",\n    labelKey: \"status.STARTED\",\n    color: \"success\",\n    boardColumn: \"OFFER\",\n    order: 410,\n  },\n\n  // =========================\n  // REJECTED\n  // =========================\n  REJECTED_PRE_INTERVIEW: {\n    key: \"REJECTED_PRE_INTERVIEW\",\n    stage: \"REJECTED\",\n    labelKey: \"status.REJECTED_PRE_INTERVIEW\",\n    color: \"danger\",\n    boardColumn: \"REJECTED\",\n    order: 940,\n  },\n  REJECTED_AFTER_INTERVIEW: {\n    key: \"REJECTED_AFTER_INTERVIEW\",\n    stage: \"REJECTED\",\n    labelKey: \"status.REJECTED_AFTER_INTERVIEW\",\n    color: \"danger\",\n    boardColumn: \"REJECTED\",\n    order: 950,\n  },\n  ROLE_CLOSED: {\n    key: \"ROLE_CLOSED\",\n    stage: \"REJECTED\",\n    labelKey: \"status.ROLE_CLOSED\",\n    color: \"danger\",\n    boardColumn: \"REJECTED\",\n    order: 960,\n  },\n\n  // =========================\n  // NO_RESPONSE\n  // =========================\n  GHOSTING: {\n    key: \"GHOSTING\",\n    stage: \"NO_RESPONSE\",\n    labelKey: \"status.GHOSTING\",\n    color: \"danger\",\n    boardColumn: \"REJECTED\",\n    order: 970,\n  },\n\n  // =========================\n  // ARCHIVED\n  // =========================\n  ARCHIVED_GENERAL: {\n    key: \"ARCHIVED_GENERAL\",\n    stage: \"ARCHIVED\",\n    labelKey: \"status.ARCHIVED_GENERAL\",\n    color: \"neutral\",\n    boardColumn: \"REJECTED\",\n    order: 980,\n  },\n  KEEP_IN_TOUCH: {\n    key: \"KEEP_IN_TOUCH\",\n    stage: \"ARCHIVED\",\n    labelKey: \"status.KEEP_IN_TOUCH\",\n    color: \"neutral\",\n    boardColumn: \"REJECTED\",\n    order: 990,\n  },\n  WITHDREW_BEFORE_START: {\n    key: \"WITHDREW_BEFORE_START\",\n    stage: \"ARCHIVED\",\n    labelKey: \"status.WITHDREW_BEFORE_START\",\n    color: \"neutral\",\n    boardColumn: \"REJECTED\",\n    order: 995,\n  },\n};\n\nexport const STATUS: Record<StatusKey, StatusMeta> = Object.fromEntries(\n  Object.entries(STATUS_BASE).map(([k, v]) => [k, { ...v, boardColumn: v.stage }]),\n) as Record<StatusKey, StatusMeta>;\n\nexport const STATUS_KEYS: readonly StatusKey[] = Object.keys(STATUS) as StatusKey[];\n\nexport const BOARD_COLUMNS: Record<\n  BoardColumnKey,\n  { key: BoardColumnKey; labelKey: string; order: number }\n> = {\n  ACTIVE: { key: \"ACTIVE\", labelKey: \"board.column.ACTIVE\", order: 1 },\n  INTERVIEW: { key: \"INTERVIEW\", labelKey: \"board.column.INTERVIEW\", order: 2 },\n  OFFER: { key: \"OFFER\", labelKey: \"board.column.OFFER\", order: 3 },\n  HIRED: { key: \"HIRED\", labelKey: \"board.column.HIRED\", order: 4 },\n  REJECTED: { key: \"REJECTED\", labelKey: \"board.column.REJECTED\", order: 5 },\n  NO_RESPONSE: { key: \"NO_RESPONSE\", labelKey: \"board.column.NO_RESPONSE\", order: 6 },\n  ARCHIVED: { key: \"ARCHIVED\", labelKey: \"board.column.ARCHIVED\", order: 7 },\n};\n\nexport const BOARD_COLUMNS_LIST: readonly { key: BoardColumnKey; labelKey: string; order: number }[] =\n  BOARD_COLUMN_KEYS.map((k) => BOARD_COLUMNS[k]).sort((a, b) => a.order - b.order);\n\n/**\n * Единственный mapping цветов для UI.\n * Badge/Board/Charts должны использовать ТОЛЬКО meta.color.\n */\nexport const STATUS_COLOR_CLASS: Record<StatusColor, string> = {\n  neutral: \"bg-muted text-foreground\",\n  info: \"bg-blue-100 text-blue-900\",\n  warning: \"bg-amber-100 text-amber-900\",\n  success: \"bg-emerald-100 text-emerald-900\",\n  danger: \"bg-red-100 text-red-900\",\n  purple: \"bg-purple-100 text-purple-900\",\n};\n\n\n/**\n * Dot variant (background only).\n *\n * Derived from StatusColor, so changing meta.color updates dots everywhere.\n */\nexport const STATUS_COLOR_DOT_CLASS: Record<StatusColor, string> = {\n  // Unified status tokens (tailwind -> CSS vars in theme files)\n  neutral: \"bg-status-neutral\",\n  info: \"bg-status-info\",\n  warning: \"bg-status-warning\",\n  success: \"bg-status-success\",\n  danger: \"bg-status-danger\",\n  purple: \"bg-status-purple\",\n};\n\n/**\n * Никаких других источников цветов.\n */\nexport const STATUS_COLOR_HEX: Record<StatusColor, string> = {\n  neutral: \"#64748b\",\n  info: \"#2563eb\",\n  warning: \"#d97706\",\n  success: \"#059669\",\n  danger: \"#dc2626\",\n  purple: \"#7c3aed\",\n};\n\n\n\n/**\n * Stage colors: keep consistent across the whole UI (dots, charts, badges).\n * We intentionally map \"stage\" -> color, so HR_CALL_SCHEDULED and TECH_* share INTERVIEW color etc.\n */\nexport const STAGE_COLOR: Record<Stage, StatusColor> = {\n  ACTIVE: \"info\",\n  INTERVIEW: \"purple\",\n  OFFER: \"warning\",\n  HIRED: \"success\",\n  REJECTED: \"danger\",\n  NO_RESPONSE: \"neutral\",\n  ARCHIVED: \"neutral\",\n};\n\nexport function getStageColorForStatus(status: StatusKey): StatusColor {\n  return STAGE_COLOR[getStatusMeta(status).stage];\n}\n\n/**\n * Column (board stage) colors for charts/legends.\n */\nexport const BOARD_COLUMN_COLOR: Record<BoardColumnKey, StatusColor> = {\n  ACTIVE: \"info\",\n  INTERVIEW: \"purple\",\n  OFFER: \"warning\",\n  HIRED: \"success\",\n  REJECTED: \"danger\",\n  NO_RESPONSE: \"neutral\",\n  ARCHIVED: \"neutral\",\n};\n\nexport const BOARD_COLUMN_COLOR_HEX: Record<BoardColumnKey, string> = {\n  ACTIVE: STATUS_COLOR_HEX[BOARD_COLUMN_COLOR.ACTIVE],\n  INTERVIEW: STATUS_COLOR_HEX[BOARD_COLUMN_COLOR.INTERVIEW],\n  OFFER: STATUS_COLOR_HEX[BOARD_COLUMN_COLOR.OFFER],\n  HIRED: STATUS_COLOR_HEX[BOARD_COLUMN_COLOR.HIRED],\n  REJECTED: STATUS_COLOR_HEX[BOARD_COLUMN_COLOR.REJECTED],\n  NO_RESPONSE: STATUS_COLOR_HEX[BOARD_COLUMN_COLOR.NO_RESPONSE],\n  ARCHIVED: STATUS_COLOR_HEX[BOARD_COLUMN_COLOR.ARCHIVED],\n};\nexport const ALL_STATUSES: StatusMeta[] = Object.values(STATUS).sort(\n  (a, b) => a.order - b.order\n);\n\nexport function isStatusKey(v: unknown): v is StatusKey {\n  return typeof v === \"string\" && (v as StatusKey) in STATUS;\n}\n\nexport function getStatusMeta(status: StatusKey): StatusMeta {\n  return STATUS[status];\n}\n\nexport function getStage(status: StatusKey): Stage {\n  return STATUS[status].stage;\n}\n\nexport function getBoardColumn(status: StatusKey): BoardColumnKey {\n  const meta = STATUS[status];\n  // Defensive: in case legacy/invalid data slipped through.\n  return meta?.boardColumn ?? \"ACTIVE\";\n}\n\nexport function defaultStatusForBoardColumn(col: BoardColumnKey): StatusKey {\n  const first = ALL_STATUSES\n    .filter((s) => s.boardColumn === col)\n    .sort((a, b) => a.order - b.order)[0];\n  return (first?.key ?? \"SAVED\") as StatusKey;\n}\n\nexport function statusesForStage(stage: Stage): StatusMeta[] {\n  return ALL_STATUSES.filter((s) => s.stage === stage);\n}\n\n/**\n * Legacy process.status (старый enum) -> новый StatusKey.\n * Используется только при миграции/нормализации старых документов.\n */\nexport type LegacyProcessStatus =\n  | \"SAVED\"\n  | \"PLANNED\"\n  | \"APPLIED\"\n  | \"VIEWED\"\n  | \"INTERVIEW_1\"\n  | \"INTERVIEW_2\"\n  | \"TEST_TASK\"\n  | \"OFFER\"\n  | \"REJECTED\"\n  | \"NO_RESPONSE\";\n\nconst LEGACY_TO_STATUS: Record<LegacyProcessStatus, StatusKey> = {\n  SAVED: \"SAVED\",\n  PLANNED: \"READY_TO_APPLY\",\n  APPLIED: \"APPLIED\",\n  VIEWED: \"RESPONSE_RECEIVED\",\n  INTERVIEW_1: \"HR_CALL_SCHEDULED\",\n  INTERVIEW_2: \"TECH_SCHEDULED\",\n  TEST_TASK: \"TEST_TASK_RECEIVED\",\n  OFFER: \"OFFER_RECEIVED\",\n  REJECTED: \"REJECTED_PRE_INTERVIEW\",\n  NO_RESPONSE: \"GHOSTING\",\n};\n\nexport function legacyStatusToStatusKey(v: unknown): StatusKey | null {\n  if (typeof v !== \"string\") return null;\n  const up = v.toUpperCase() as LegacyProcessStatus;\n  return up in LEGACY_TO_STATUS ? LEGACY_TO_STATUS[up] : null;\n}\n\nfunction asRecord(v: unknown): Record<string, unknown> | null {\n  return v && typeof v === \"object\" ? (v as Record<string, unknown>) : null;\n}\n\n/**\n * Normalize a raw status value (legacy strings, any casing) into StatusKey.\n * Returns null if value is not recognized.\n */\nexport function normalizeStatusKey(v: unknown): StatusKey | null {\n  // 1) Already a valid StatusKey\n  if (isStatusKey(v)) return v;\n\n  // 2) Legacy enum values (older versions)\n  const legacy = legacyStatusToStatusKey(v);\n  if (legacy) return legacy;\n\n  // 3) Be tolerant to different casing / spaces / hyphens\n  if (typeof v === \"string\") {\n    const up = v.trim().toUpperCase();\n    const normalized = up.replace(/[\\s-]+/g, \"_\");\n    if (isStatusKey(normalized)) return normalized;\n\n    // 4) If someone accidentally stored a board column key instead of subStatus,\n    // map it to the default StatusKey for that column so analytics/board stay consistent.\n    if ((BOARD_COLUMN_KEYS as readonly string[]).includes(normalized)) {\n      return defaultStatusForBoardColumn(normalized as BoardColumnKey);\n    }\n  }\n\n  return null;\n}\n\n/**\n * Нормализация статуса приложения:\n * - если уже есть process.stage + process.subStatus (и subStatus валиден) — возвращаем как есть\n * - иначе пытаемся преобразовать legacy process.status\n * - иначе фоллбек на SAVED/ACTIVE\n */\nexport function normalizeAppStatus(app: unknown): { stage: Stage; subStatus: StatusKey; changed: boolean } {\n  const obj = asRecord(app);\n  const process = asRecord(obj?.[\"process\"]);\n\n  const stageIn = process?.[\"stage\"];\n  const subIn = process?.[\"subStatus\"];\n\n  if (typeof stageIn === \"string\" && typeof subIn === \"string\" && isStatusKey(subIn)) {\n    return {\n      stage: STATUS[subIn].stage,\n      subStatus: subIn,\n      changed: stageIn !== STATUS[subIn].stage,\n    };\n  }\n\n  const legacy = legacyStatusToStatusKey(process?.[\"status\"]);\n  if (legacy) {\n    return { stage: STATUS[legacy].stage, subStatus: legacy, changed: true };\n  }\n\n  return { stage: \"ACTIVE\", subStatus: \"SAVED\", changed: true };\n}\n\n/**\n * Back-compat alias: older code imported normalizeStatus() expecting app normalization.\n */\nexport const normalizeStatus = normalizeAppStatus;\n\nexport function getRepresentativeStatusForColumn(col: BoardColumnKey): StatusKey {\n  // Pick the earliest status (by order) that belongs to this board column.\n  const found = STATUS_KEYS.map((k) => STATUS[k])\n    .filter((m) => m.boardColumn === col)\n    .sort((a, b) => a.order - b.order)[0];\n  return found?.key ?? STATUS_KEYS[0];\n}\n","import type { Firestore } from \"firebase/firestore\";\n\nimport {\n  type ApplicationDoc,\n  type ProcessStatus,\n  createApplication,\n  autoMarkGhosting,\n  ensureUserDoc,\n  queryAllActiveApplications,\n  queryFollowUpsDue,\n  queryPipelineByStatus,\n  queryTodayTopPriority,\n  getApplicationHistory,\n} from \"src/features/applications/firestoreApplications\";\n\nexport type ApplicationsRepo = ReturnType<typeof createApplicationsRepo>;\n\n/**\n * DI-friendly repository for ApplicationsPage.\n * The page (composition layer) injects Firestore; the model/hooks stay db-agnostic.\n */\nexport function createApplicationsRepo(db: Firestore) {\n  return {\n    ensureUserDoc: (userId: string) => ensureUserDoc(db, userId),\n\n    createApplication: (\n      userId: string,\n      payload: Parameters<typeof createApplication>[2]\n    ) => createApplication(db, userId, payload),\n\n    queryPipelineByStatus: (\n      userId: string,\n      status: ProcessStatus,\n      limit: number\n    ) => queryPipelineByStatus(db, userId, status, limit),\n\n    queryAllActiveApplications: (userId: string, limit: number) =>\n      queryAllActiveApplications(db, userId, limit),\n\n    queryTodayTopPriority: (userId: string, limit: number) =>\n      queryTodayTopPriority(db, userId, limit),\n\n    getApplicationHistory: (userId: string, appId: string, take: number) =>\n      getApplicationHistory(db, userId, appId, take),\n\n    queryFollowUpsDue: (userId: string, limit: number) =>\n      queryFollowUpsDue(db, userId, limit),\n\n    autoMarkGhosting: (userId: string, rows: Array<{ id: string; data: ApplicationDoc }>) =>\n      autoMarkGhosting(db, userId, rows, 30),\n  };\n}\n\nexport type { ApplicationDoc, ProcessStatus };\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { getStatusMeta, type StatusKey } from \"../../model/status\";\n\nfunction humanizeKey(k: string): string {\n  return k\n    .split(\"_\")\n    .map((p) => (p ? p[0].toUpperCase() + p.slice(1).toLowerCase() : p))\n    .join(\" \");\n}\n\nexport type StatusLabelProps = {\n  status: StatusKey;\n  fallback?: string;\n};\n\nexport function StatusLabel({ status, fallback }: StatusLabelProps) {\n  const { t } = useTranslation();\n  const meta = getStatusMeta(status);\n  const fb = fallback ?? humanizeKey(meta.key);\n  return <>{t(meta.labelKey, { defaultValue: fb })}</>;\n}\n","import React from \"react\";\n\nimport { getStageColorForStatus, STATUS_COLOR_DOT_CLASS, type StatusKey } from \"../../model/status\";\n\nfunction clsx(...xs: Array<string | false | null | undefined>) {\n  return xs.filter(Boolean).join(\" \");\n}\n\nexport type StatusDotProps = {\n  status: StatusKey;\n  className?: string;\n  size?: \"xs\" | \"sm\" | \"md\";\n};\n\nconst SIZE_CLASS: Record<NonNullable<StatusDotProps[\"size\"]>, string> = {\n  xs: \"h-1.5 w-1.5\",\n  sm: \"h-2 w-2\",\n  md: \"h-2.5 w-2.5\",\n};\n\nexport function StatusDot({ status, className, size = \"sm\" }: StatusDotProps) {\n  const color = getStageColorForStatus(status);\n  return (\n    <span\n      aria-hidden\n      className={clsx(\"inline-block rounded-full\", SIZE_CLASS[size], STATUS_COLOR_DOT_CLASS[color], className)}\n    />\n  );\n}\n","import React, { useMemo } from \"react\";\n\nimport { STATUS_KEYS, statusesForStage, type Stage, type StatusKey } from \"../../model/status\";\n\nimport { StatusLabel } from \"./StatusLabel\";\n\nfunction clsx(...xs: Array<string | false | null | undefined>) {\n  return xs.filter(Boolean).join(\" \");\n}\n\nexport type StatusMenuProps = {\n  value: StatusKey;\n  onChange: (next: StatusKey) => void;\n  disabled?: boolean;\n  stage?: Stage;\n  options?: readonly StatusKey[];\n  className?: string;\n  size?: \"sm\" | \"md\";\n};\n\nconst SIZE_CLASS: Record<NonNullable<StatusMenuProps[\"size\"]>, string> = {\n  sm: \"h-9 px-sm text-sm\",\n  md: \"h-10 px-md text-sm\",\n};\n\nexport function StatusMenu({\n  value,\n  onChange,\n  disabled = false,\n  stage,\n  options,\n  className,\n  size = \"sm\",\n}: StatusMenuProps) {\n  const items = useMemo<readonly StatusKey[]>(() => {\n    if (options?.length) return options;\n    if (stage) return statusesForStage(stage).map((m) => m.key);\n    return STATUS_KEYS;\n  }, [options, stage]);\n\n  return (\n    <select\n      value={value}\n      disabled={disabled}\n      onChange={(e) => onChange(e.target.value as StatusKey)}\n      className={clsx(\n        \"rounded-full border border-border bg-card text-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n        SIZE_CLASS[size],\n        className,\n      )}\n    >\n      {items.map((k) => (\n        <option key={k} value={k}>\n          <StatusLabel status={k} />\n        </option>\n      ))}\n    </select>\n  );\n}\n","import type { ProcessStatus } from \"src/features/applications/firestoreApplications\";\n\n/**\n * View modes for Applications page\n */\nexport type ViewMode = \"pipeline\" | \"today\" | \"followups\";\n\n/**\n * Pipeline filter status (UI-level).\n * We keep domain ProcessStatus, but add ALL for full list view.\n */\nexport type PipelineFilterStatus = \"ALL\" | ProcessStatus;\n\n/**\n * Create form state for creating new application\n */\nexport type CreateFormState = {\n  companyName: string;\n  roleTitle: string;\n  vacancyUrl: string;\n  source: string;\n  rawDescription: string;\n};\n\nexport const EMPTY_CREATE_FORM: CreateFormState = {\n  companyName: \"\",\n  roleTitle: \"\",\n  vacancyUrl: \"\",\n  source: \"\",\n  rawDescription: \"\",\n};\n\n/**\n * Pipeline statuses order\n */\nexport type PipelineStatusTab = { key: string; status: PipelineFilterStatus };\n\n/**\n * Tabs for pipeline view.\n * Keys must match i18n: applicationsPage.pipeline.<key>\n */\nexport const PIPELINE_STATUSES: PipelineStatusTab[] = [\n  { key: \"all\", status: \"ALL\" },\n  { key: \"saved\", status: \"SAVED\" },\n  { key: \"applied\", status: \"APPLIED\" },\n  { key: \"interview\", status: \"INTERVIEW_1\" },\n  { key: \"offer\", status: \"OFFER\" },\n  { key: \"rejected\", status: \"REJECTED\" },\n];\n\n/**\n * i18n key builder for process statuses.\n * Use with t(processStatusKey(status))\n */\nexport function processStatusKey(status: PipelineFilterStatus): string {\n  if (status === \"ALL\") return \"applicationsPage.pipeline.all\";\n  return `applicationsPage.statuses.${status.toLowerCase()}`;\n}","import { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { normalizeStatusKey, type StatusKey } from \"src/entities/application/model/status\";\nimport { StatusDot, StatusLabel } from \"src/entities/application/ui/StatusKit\";\n\nimport type { AppRow } from \"../model/useApplicationsPage\";\n\nexport function ApplicationListItem(props: { row: AppRow }) {\n  const { row } = props;\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => navigate(`/dashboard/applications/${row.id}`)}\n      className=\"w-full py-sm flex items-center gap-md text-left hover:bg-muted/40 rounded-md px-2\"\n    >\n      <div className=\"min-w-0 flex-1\">\n        <div className=\"truncate text-sm font-medium text-foreground\">\n          {row.data.job.roleTitle}\n        </div>\n        <div className=\"truncate text-xs text-muted-foreground\">\n          {row.data.job.companyName}\n          {row.data.job.source ? ` • ${row.data.job.source}` : \"\"}\n        </div>\n        {row.data.matching ? (\n          <div className=\"mt-1 text-[11px] text-muted-foreground\">\n            {((t(\"applicationsPage.matching\", { defaultValue: \"Match\", returnObjects: false }) ?? \"Match\") as string)}: {row.data.matching.score}\n            /100 • {row.data.matching.decision}\n          </div>\n        ) : null}\n      </div>\n\n      <div className=\"flex items-center gap-sm shrink-0\">\n        {row.data.process.needsFollowUp ? (\n          <span className=\"rounded-full border border-border bg-background px-2 py-1 text-[11px] font-medium text-foreground\">\n            {((t(\"applicationsPage.followUpBadge\", { defaultValue: \"Follow-up\", returnObjects: false }) ?? \"Follow-up\") as string)}\n          </span>\n        ) : null}\n        {(() => {\n          const sk = normalizeStatusKey(row.data.process.status) as StatusKey | null;\n          return (\n            <div className=\"flex items-center gap-2 rounded-full border border-border bg-background px-sm py-1 text-[11px] font-medium text-foreground\">\n              {sk ? <StatusDot status={sk} /> : null}\n              <span className=\"text-foreground\">\n                {sk ? <StatusLabel status={sk} fallback={String(row.data.process.status)} /> : String(row.data.process.status)}\n              </span>\n            </div>\n          );\n        })()}\n      </div>\n    </button>\n  );\n}\n","import { useTranslation } from \"react-i18next\";\n\nimport { Card } from \"src/shared/ui\";\n\nimport type { ViewMode } from \"../model/types\";\nimport type { AppRow } from \"../model/useApplicationsPage\";\n\nimport { ApplicationListItem } from \"./ApplicationListItem\";\n\n\nexport function ApplicationsListCard(props: { list: AppRow[]; view: ViewMode }) {\n  const { t } = useTranslation();\n  const { list, view } = props;\n\n  let emptyText: string;\n  if (view === \"today\") {\n    emptyText =\n      (t(\"applicationsPage.empty.today\", {\n        defaultValue: \"Nothing for today.\",\n        returnObjects: false,\n      }) ?? \"Nothing for today.\") as string;\n  } else if (view === \"followups\") {\n    emptyText =\n      (t(\"applicationsPage.empty.followups\", {\n        defaultValue: \"No follow-ups due.\",\n        returnObjects: false,\n      }) ?? \"No follow-ups due.\") as string;\n  } else {\n    emptyText =\n      (t(\"applicationsPage.empty.pipeline\", {\n        defaultValue: \"No applications yet.\",\n        returnObjects: false,\n      }) ?? \"No applications yet.\") as string;\n  }\n\n  return (\n    <Card padding=\"md\" shadow=\"sm\" className=\"space-y-sm\">\n      {list.length === 0 ? (\n        <div className=\"text-sm text-muted-foreground\">\n          {emptyText}\n        </div>\n      ) : (\n        <div className=\"divide-y divide-border\">\n          {list.map((row) => (\n            <div key={row.id} className=\"py-[2px]\">\n              <ApplicationListItem row={row} />\n            </div>\n          ))}\n        </div>\n      )}\n    </Card>\n  );\n}\n","import { useTranslation } from \"react-i18next\";\n\nimport { Button } from \"src/shared/ui\";\n\nimport type { ViewMode } from \"../model/types\";\n\nexport function ViewModeSwitch(props: {\n  value: ViewMode;\n  onChange: (value: ViewMode) => void;\n}) {\n  const { t } = useTranslation();\n  const { value, onChange } = props;\n\n  return (\n    <div className=\"flex items-center gap-sm\">\n      <Button\n        size=\"sm\"\n        variant={value === \"pipeline\" ? \"default\" : \"outline\"}\n        onClick={() => onChange(\"pipeline\")}\n      >\n        {((t(\"applicationsPage.views.pipeline\", { defaultValue: \"Pipeline\", returnObjects: false }) ?? \"Pipeline\") as string)}\n      </Button>\n      <Button\n        size=\"sm\"\n        variant={value === \"today\" ? \"default\" : \"outline\"}\n        onClick={() => onChange(\"today\")}\n      >\n        {((t(\"applicationsPage.views.today\", { defaultValue: \"Today\", returnObjects: false }) ?? \"Today\") as string)}\n      </Button>\n      <Button\n        size=\"sm\"\n        variant={value === \"followups\" ? \"default\" : \"outline\"}\n        onClick={() => onChange(\"followups\")}\n      >\n        {((t(\"applicationsPage.views.followups\", { defaultValue: \"Follow-ups\", returnObjects: false }) ?? \"Follow-ups\") as string)}\n      </Button>\n    </div>\n  );\n}\n","import { useTranslation } from \"react-i18next\";\n\nimport type { ViewMode } from \"../model/types\";\n\nimport { ViewModeSwitch } from \"./ViewModeSwitch\";\n\nexport function ApplicationsPageHeader(props: {\n  view: ViewMode;\n  onChangeView: (next: ViewMode) => void;\n}) {\n  const { view, onChangeView } = props;\n  const { t } = useTranslation();\n\n  return (\n    <div className=\"flex items-start justify-between gap-md\">\n      <div>\n        <div className=\"text-xl font-semibold text-foreground\">\n          {((t(\"applicationsPage.title\", { defaultValue: \"My applications\", returnObjects: false }) ?? \"My applications\") as string)}\n        </div>\n        <div className=\"text-sm text-muted-foreground\">\n          {t(\n            \"applicationsPage.subtitle\",\n            \"Create and track your job applications in one place.\"\n          )}\n        </div>\n      </div>\n\n      <ViewModeSwitch value={view} onChange={onChangeView} />\n    </div>\n  );\n}\n","import { useTranslation } from \"react-i18next\";\n\nimport { normalizeStatusKey, type StatusKey } from \"src/entities/application/model/status\";\nimport { StatusDot } from \"src/entities/application/ui/StatusKit\";\nimport { Button } from \"src/shared/ui\";\n\nimport { PIPELINE_STATUSES, processStatusKey, type PipelineFilterStatus } from \"../model/types\";\n\nexport function PipelineStatusTabs(props: {\n  activeStatus: PipelineFilterStatus;\n  onChange: (status: PipelineFilterStatus) => void;\n  isLoading: boolean;\n  count: number;\n}) {\n  const { t } = useTranslation();\n  const { activeStatus, onChange, isLoading, count } = props;\n\n  return (\n    <div className=\"space-y-sm\">\n      <div className=\"flex flex-wrap items-center gap-sm\">\n        {PIPELINE_STATUSES.map((s) => {\n          const fallback = (t(processStatusKey(s.status), {\n            defaultValue: String(s.status),\n            returnObjects: false,\n          }) ?? String(s.status)) as string;\n\n          const label =\n            ((t(`applicationsPage.pipeline.${s.key}`, {\n              defaultValue: fallback,\n              returnObjects: false,\n            }) ?? fallback) as string);\n\n          const sk: StatusKey | null =\n            s.status === \"ALL\" ? null : (normalizeStatusKey(s.status) as StatusKey | null);\n\n          return (\n            <Button\n              key={s.key}\n              variant={activeStatus === s.status ? \"default\" : \"outline\"}\n              size=\"sm\"\n              onClick={() => onChange(s.status)}\n            >\n              <span className=\"inline-flex items-center gap-2\">\n                {sk ? <StatusDot status={sk} /> : null}\n                <span>{label}</span>\n              </span>\n            </Button>\n          );\n        })}\n\n        <div className=\"ml-auto text-xs text-muted-foreground\">\n          {isLoading\n            ? ((t(\"applicationsPage.pipeline.loading\", {\n                defaultValue: \"Loading…\",\n                returnObjects: false,\n              }) ?? \"Loading…\") as string)\n            : ((t(\"applicationsPage.pipeline.count\", {\n                defaultValue: \"Count: {{count}}\",\n                count,\n                returnObjects: false,\n              }) ?? `Count: ${count}`) as string)}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useTranslation } from \"react-i18next\";\n\nimport type { ViewMode } from \"../model/types\";\n\nexport function ViewMetaBar(props: {\n  view: ViewMode;\n  isLoading: boolean;\n  count: number;\n}) {\n  const { t } = useTranslation();\n  const { view, isLoading, count } = props;\n\n  return (\n    <div className=\"flex items-center justify-between\">\n      <div className=\"text-xs text-muted-foreground\">\n        {view === \"today\"\n          ? ((t(\"applicationsPage.todayHint\", { defaultValue: \"Sorted by priority.score\", returnObjects: false }) ?? \"Sorted by priority.score\") as string)\n          : t(\n              \"applicationsPage.followupsHint\",\n              \"Needs follow-up ordered by due date\"\n            )}\n      </div>\n      <div className=\"text-xs text-muted-foreground\">\n        {isLoading\n          ? ((t(\"applicationsPage.pipeline.loading\", { defaultValue: \"Loading…\", returnObjects: false }) ?? \"Loading…\") as string)\n          : ((t(\"applicationsPage.pipeline.count\", { defaultValue: \"Count: {{count}}\", returnObjects: false, count  }) ?? \"Count: {{count}}\") as string)}\n      </div>\n    </div>\n  );\n}\n","import type { PipelineFilterStatus, ViewMode } from \"../model/types\";\n\nimport { PipelineStatusTabs } from \"./PipelineStatusTabs\";\nimport { ViewMetaBar } from \"./ViewMetaBar\";\n\nexport function ApplicationsToolbar(props: {\n  view: ViewMode;\n  activeStatus: PipelineFilterStatus;\n  onChangeStatus: (s: PipelineFilterStatus) => void;\n  isLoading: boolean;\n  count: number;\n}) {\n  const { view, activeStatus, onChangeStatus, isLoading, count } = props;\n\n  if (view === \"pipeline\") {\n    return (\n      <PipelineStatusTabs\n        activeStatus={activeStatus}\n        onChange={onChangeStatus}\n        isLoading={isLoading}\n        count={count}\n      />\n    );\n  }\n\n  return <ViewMetaBar view={view} isLoading={isLoading} count={count} />;\n}","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { Button, FormField, Input, TextArea } from \"src/shared/ui\";\n\nimport type { CreateFormState } from \"../model/types\";\n\ntype Props = {\n  form: CreateFormState;\n  onChange: <K extends keyof CreateFormState>(key: K, value: CreateFormState[K]) => void;\n  onCreate: () => void;\n  canSubmit: boolean;\n  isCreating: boolean;\n};\n\nexport function CreateApplicationCard(props: Props) {\n  const { t } = useTranslation();\n  const { form, onChange, onCreate, canSubmit, isCreating } = props;\n\n  return (\n    <div className=\"rounded-2xl border p-4 shadow-sm\">\n      <div className=\"mb-3 text-lg font-semibold\">\n        {((t(\"applicationsPage.create.title\", { defaultValue: \"New application\", returnObjects: false }) ?? \"New application\") as string)}\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-3 md:grid-cols-2\">\n        <FormField label={((t(\"applicationsPage.create.company\", { defaultValue: \"Company\", returnObjects: false }) ?? \"Company\") as string)} required>\n          {(p) => (\n            <Input\n              id={p.id}\n              aria-describedby={p.describedBy}\n              aria-invalid={p.invalid}\n              value={form.companyName}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                onChange(\"companyName\", e.target.value)\n              }\n              placeholder={((t(\"applicationsPage.create.companyPh\", { defaultValue: \"e.g. ACME GmbH\", returnObjects: false }) ?? \"e.g. ACME GmbH\") as string)}\n            />\n          )}\n        </FormField>\n\n        <FormField label={((t(\"applicationsPage.create.role\", { defaultValue: \"Role\", returnObjects: false }) ?? \"Role\") as string)} required>\n          {(p) => (\n            <Input\n              id={p.id}\n              aria-describedby={p.describedBy}\n              aria-invalid={p.invalid}\n              value={form.roleTitle}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                onChange(\"roleTitle\", e.target.value)\n              }\n              placeholder={t(\n                \"applicationsPage.create.rolePh\",\n                \"e.g. Frontend Developer\"\n              )}\n            />\n          )}\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <FormField label={((t(\"applicationsPage.create.url\", { defaultValue: \"Vacancy URL\", returnObjects: false }) ?? \"Vacancy URL\") as string)}>\n            {(p) => (\n              <Input\n                id={p.id}\n                aria-describedby={p.describedBy}\n                aria-invalid={p.invalid}\n                value={form.vacancyUrl}\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                  onChange(\"vacancyUrl\", e.target.value)\n                }\n                placeholder={((t(\"applicationsPage.create.urlPh\", { defaultValue: \"https://…\", returnObjects: false }) ?? \"https://…\") as string)}\n              />\n            )}\n          </FormField>\n        </div>\n\n        <FormField label={((t(\"applicationsPage.create.source\", { defaultValue: \"Source\", returnObjects: false }) ?? \"Source\") as string)}>\n          {(p) => (\n            <Input\n              id={p.id}\n              aria-describedby={p.describedBy}\n              aria-invalid={p.invalid}\n              value={form.source}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                onChange(\"source\", e.target.value)\n              }\n              placeholder={t(\n                \"applicationsPage.create.sourcePh\",\n                \"LinkedIn / Indeed / Company site\"\n              )}\n            />\n          )}\n        </FormField>\n\n        <div className=\"md:col-span-2\">\n          <FormField\n            label={((t(\"applicationsPage.create.desc\", { defaultValue: \"Description (optional)\", returnObjects: false }) ?? \"Description (optional)\") as string)}\n          >\n            {(p) => (\n              <TextArea\n                id={p.id}\n                aria-describedby={p.describedBy}\n                aria-invalid={p.invalid}\n                value={form.rawDescription}\n                onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) =>\n                  onChange(\"rawDescription\", e.target.value)\n                }\n                placeholder={t(\n                  \"applicationsPage.create.descPh\",\n                  \"Paste vacancy text to improve matching…\"\n                )}\n              />\n            )}\n          </FormField>\n        </div>\n      </div>\n\n      <div className=\"mt-4 flex items-center justify-end gap-2\">\n        <Button onClick={onCreate} disabled={!canSubmit || isCreating}>\n          {isCreating\n            ? ((t(\"applicationsPage.create.creating\", { defaultValue: \"Creating…\", returnObjects: false }) ?? \"Creating…\") as string)\n            : ((t(\"applicationsPage.create.createBtn\", { defaultValue: \"Create\", returnObjects: false }) ?? \"Create\") as string)}\n        </Button>\n      </div>\n    </div>\n  );\n}\n","import React, { useMemo } from \"react\";\n\nimport { useAuthSelectors } from \"src/entities/auth/model/hooks/useAuthSelectors\";\nimport { db } from \"src/shared/config/firebase/firebase\";\n\nimport { createApplicationsRepo } from \"./api/applicationsRepo\";\nimport { useApplicationsPage } from \"./model/useApplicationsPage\";\nimport { ApplicationsListCard } from \"./ui/ApplicationsListCard\";\nimport { ApplicationsPageHeader } from \"./ui/ApplicationsPageHeader\";\nimport { ApplicationsToolbar } from \"./ui/ApplicationsToolbar\";\nimport { CreateApplicationCard } from \"./ui/CreateApplicationCard\";\n\n\nexport default function ApplicationsPage() {\n  const { userId, isAuthReady } = useAuthSelectors();\n  const repo = useMemo(() => createApplicationsRepo(db), []);\n\n  const {\n    view,\n    setView,\n    activeStatus,\n    setActiveStatus,\n\n    form,\n    updateForm,\n    canSubmit,\n    isCreating,\n    onCreate,\n\n    list,\n    isLoadingList,\n    error,\n  } = useApplicationsPage({ userId, isAuthReady, repo });\n\n  return (\n    <div className=\"w-full p-4\">\n      <ApplicationsPageHeader view={view} onChangeView={setView} />\n\n      <div className=\"mt-4 space-y-4\">\n        <ApplicationsToolbar\n          view={view}\n          activeStatus={activeStatus}\n          onChangeStatus={setActiveStatus}\n          isLoading={isLoadingList}\n          count={list.length}\n        />\n\n        <CreateApplicationCard\n          form={form}\n          onChange={updateForm}\n          onCreate={onCreate}\n          canSubmit={canSubmit}\n          isCreating={isCreating}\n        />\n\n        {error ? (\n          <div className=\"rounded-xl border border-destructive/30 bg-destructive/5 p-3 text-sm text-destructive\">\n            {error}\n          </div>\n        ) : null}\n\n        <ApplicationsListCard list={list} view={view} />\n      </div>\n    </div>\n  );\n}\n","import { useCallback, useEffect, useMemo, useState } from \"react\";\n\nimport type {\n  ApplicationDoc,\n  ApplicationsRepo,\n  ProcessStatus,\n} from \"../api/applicationsRepo\";\n\nimport type { PipelineFilterStatus, ViewMode } from \"./types\";\nimport { EMPTY_CREATE_FORM, type CreateFormState } from \"./types\";\n\nexport type AppRow = { id: string; data: ApplicationDoc };\n\nexport function useApplicationsPage(params: {\n  userId: string | null;\n  isAuthReady: boolean;\n  repo: ApplicationsRepo;\n}) {\n  const { userId, isAuthReady, repo } = params;\n\n  const [view, setView] = useState<ViewMode>(\"pipeline\");\n  const [activeStatus, setActiveStatus] = useState<PipelineFilterStatus>(\"ALL\");\n\n  const [form, setForm] = useState<CreateFormState>(EMPTY_CREATE_FORM);\n\n  const [isEnsuringUser, setIsEnsuringUser] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n  const [isLoadingList, setIsLoadingList] = useState(false);\n\n  const [list, setList] = useState<AppRow[]>([]);\n  const [error, setError] = useState<string | null>(null);\n\n  const canSubmit = useMemo(() => {\n    return form.companyName.trim().length > 0 && form.roleTitle.trim().length > 0;\n  }, [form.companyName, form.roleTitle]);\n\n  // Ensure user document exists.\n  useEffect(() => {\n    if (!isAuthReady || !userId) return;\n\n    let cancelled = false;\n    (async () => {\n      try {\n        setIsEnsuringUser(true);\n        await repo.ensureUserDoc(userId);\n      } catch (e: unknown) {\n        const message = e instanceof Error ? e.message : String(e);\n        if (!cancelled) setError(message);\n      } finally {\n        if (!cancelled) setIsEnsuringUser(false);\n      }\n    })();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [repo, isAuthReady, userId]);\n\n  // eslint-disable-next-line sonarjs/cognitive-complexity\n  const load = useCallback(async () => {\n    if (!userId) return;\n\n    setIsLoadingList(true);\n    setError(null);\n\n    try {\n      if (view === \"pipeline\") {\n        // ✅ NEW: ALL shows all active applications (same base dataset as dashboard etc.)\n        if (activeStatus === \"ALL\") {\n          const rows = await repo.queryAllActiveApplications(userId, 500);\n          const changed = await repo.autoMarkGhosting(userId, rows);\n          if (changed > 0) {\n            const fresh = await repo.queryAllActiveApplications(userId, 500);\n            setList(fresh);\n          } else {\n            setList(rows);\n          }\n          return;\n        }\n\n        const rows = await repo.queryPipelineByStatus(userId, activeStatus as ProcessStatus, 50);\n        // Client-side automation: mark ghosting (NO_RESPONSE) after 30 days since appliedAt.\n        const changed = await repo.autoMarkGhosting(userId, rows);\n        if (changed > 0) {\n          const fresh = await repo.queryPipelineByStatus(userId, activeStatus as ProcessStatus, 50);\n          setList(fresh);\n        } else {\n          setList(rows);\n        }\n        return;\n      }\n\n      if (view === \"today\") {\n        const rows = await repo.queryTodayTopPriority(userId, 50);\n        const changed = await repo.autoMarkGhosting(userId, rows);\n        if (changed > 0) {\n          const fresh = await repo.queryTodayTopPriority(userId, 50);\n          setList(fresh);\n        } else {\n          setList(rows);\n        }\n        return;\n      }\n\n      const rows = await repo.queryFollowUpsDue(userId, 50);\n      const changed = await repo.autoMarkGhosting(userId, rows);\n      if (changed > 0) {\n        const fresh = await repo.queryFollowUpsDue(userId, 50);\n        setList(fresh);\n      } else {\n        setList(rows);\n      }\n    } catch (e: unknown) {\n      const message = e instanceof Error ? e.message : String(e);\n      setError(message);\n    } finally {\n      setIsLoadingList(false);\n    }\n  }, [repo, activeStatus, userId, view]);\n\n  // Reload list when auth/view/status changes.\n  useEffect(() => {\n    if (!isAuthReady || !userId) return;\n    void load();\n  }, [isAuthReady, userId, load]);\n\n  const updateForm = useCallback(\n    <K extends keyof CreateFormState>(key: K, value: CreateFormState[K]) => {\n      setForm((prev: CreateFormState) => ({ ...prev, [key]: value }));\n    },\n    []\n  );\n\n  const resetForm = useCallback(() => setForm(EMPTY_CREATE_FORM), []);\n\n  const onCreate = useCallback(async () => {\n    if (!userId || !canSubmit) return;\n\n    setIsCreating(true);\n    setError(null);\n\n    try {\n      await repo.createApplication(userId, {\n        companyName: form.companyName.trim(),\n        roleTitle: form.roleTitle.trim(),\n        vacancyUrl: form.vacancyUrl.trim().length ? form.vacancyUrl.trim() : undefined,\n        source: form.source.trim().length ? form.source.trim() : undefined,\n        status: \"SAVED\",\n        rawDescription: form.rawDescription.trim().length\n          ? form.rawDescription.trim()\n          : undefined,\n      });\n\n      resetForm();\n      setView(\"pipeline\");\n      // ✅ After create keep user in ALL (so the new card is visible without confusion)\n      setActiveStatus(\"ALL\");\n\n      await load();\n    } catch (e: unknown) {\n      const message = e instanceof Error ? e.message : String(e);\n      setError(message);\n    } finally {\n      setIsCreating(false);\n    }\n  }, [repo, userId, canSubmit, form, resetForm, load]);\n\n  return {\n    // View\n    view,\n    setView,\n    activeStatus,\n    setActiveStatus,\n\n    // Create form\n    form,\n    updateForm,\n    resetForm,\n    canSubmit,\n    onCreate,\n\n    // Data\n    list,\n    load,\n\n    // UI states\n    isEnsuringUser,\n    isCreating,\n    isLoadingList,\n    error,\n    setError,\n  };\n}"],"names":["BOARD_COLUMN_KEYS","STATUS","Object","fromEntries","entries","SAVED","key","stage","labelKey","color","boardColumn","order","REVIEWED","CV_ADAPTING","COVER_LETTER_WRITING","READY_TO_APPLY","APPLIED","REAPPLIED","WAITING_RESPONSE","AUTO_REPLY_RECEIVED","RESPONSE_RECEIVED","MORE_INFO_REQUESTED","FOLLOW_UP_REQUIRED","WONT_APPLY","HR_CALL_SCHEDULED","HR_PASSED","HR_FAILED","TECH_SCHEDULED","TECH_PASSED","TECH_FAILED","FINAL_INTERVIEW","TEST_TASK_RECEIVED","TEST_TASK_SUBMITTED","WAITING_DECISION","OFFER_RECEIVED","OFFER_REVIEWING","NEGOTIATING","OFFER_ACCEPTED","OFFER_DECLINED","OFFER_RESCINDED","START_PLANNED","STARTED","REJECTED_PRE_INTERVIEW","REJECTED_AFTER_INTERVIEW","ROLE_CLOSED","GHOSTING","ARCHIVED_GENERAL","KEEP_IN_TOUCH","WITHDREW_BEFORE_START","map","k","v","STATUS_KEYS","keys","BOARD_COLUMNS","ACTIVE","INTERVIEW","OFFER","HIRED","REJECTED","NO_RESPONSE","ARCHIVED","BOARD_COLUMNS_LIST","sort","a","b","STATUS_COLOR_CLASS","neutral","info","warning","success","danger","purple","STATUS_COLOR_DOT_CLASS","STATUS_COLOR_HEX","STAGE_COLOR","getStageColorForStatus","status","getStatusMeta","BOARD_COLUMN_COLOR","BOARD_COLUMN_COLOR_HEX","ALL_STATUSES","values","isStatusKey","getBoardColumn","meta","statusesForStage","filter","s","LEGACY_TO_STATUS","PLANNED","VIEWED","INTERVIEW_1","INTERVIEW_2","TEST_TASK","legacyStatusToStatusKey","up","toUpperCase","asRecord","normalizeStatusKey","legacy","normalized","trim","replace","includes","col","first","defaultStatusForBoardColumn","normalizeStatus","app","obj","process","stageIn","subIn","subStatus","changed","createApplicationsRepo","db","ensureUserDoc","userId","createApplication","payload","queryPipelineByStatus","limit","queryAllActiveApplications","queryTodayTopPriority","getApplicationHistory","appId","take","queryFollowUpsDue","autoMarkGhosting","rows","StatusLabel","fallback","useTranslation","fb","split","p","slice","toLowerCase","join","_jsx","_Fragment","children","t","defaultValue","clsx","xs","Boolean","SIZE_CLASS","sm","md","StatusDot","className","size","StatusMenu","value","onChange","disabled","options","items","useMemo","length","m","e","target","EMPTY_CREATE_FORM","companyName","roleTitle","vacancyUrl","source","rawDescription","PIPELINE_STATUSES","ApplicationListItem","props","row","navigate","useNavigate","_jsxs","type","onClick","id","data","job","matching","returnObjects","score","decision","needsFollowUp","sk","String","ApplicationsListCard","list","view","emptyText","Card","padding","shadow","ViewModeSwitch","Button","variant","ApplicationsPageHeader","onChangeView","PipelineStatusTabs","activeStatus","isLoading","count","label","ViewMetaBar","ApplicationsToolbar","onChangeStatus","CreateApplicationCard","form","onCreate","canSubmit","isCreating","FormField","required","Input","describedBy","invalid","placeholder","TextArea","ApplicationsPage","isAuthReady","useAuthSelectors","repo","setView","setActiveStatus","updateForm","isLoadingList","error","params","useState","setForm","isEnsuringUser","setIsEnsuringUser","setIsCreating","setIsLoadingList","setList","setError","useEffect","cancelled","message","Error","load","useCallback","async","fresh","prev","resetForm","undefined","useApplicationsPage"],"ignoreList":[],"sourceRoot":""}