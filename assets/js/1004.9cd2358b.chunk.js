"use strict";(self.webpackChunkjob_tracker_dashboard=self.webpackChunkjob_tracker_dashboard||[]).push([[1004],{91004(e,s,a){a.r(s),a.d(s,{DashboardAnalyticsPage:()=>h,default:()=>p});var t=a(8904),o=a(96540),n=a(22022),l=a(84823),r=a(46681),c=a(9216),d=a(64269),i=a(74848);function u(e){const s=new Date(e);return s.setHours(0,0,0,0),s.getTime()}function h(){const{t:e}=(0,n.Bd)(void 0,{keyPrefix:"dashboard"}),[s,a]=(0,o.useState)(!1),[h]=(0,o.useState)(()=>Date.now()),[p,g]=(0,o.useState)("7d"),[m,x]=(0,o.useState)("created"),[b,f]=(0,o.useState)(null),{loops:j,loopsFilter:k,setLoopsFilter:v,chartMatches:N}=(0,c.e)(),C=(0,o.useMemo)(()=>{let e=0,s=h;if("custom"===p&&b)e=u(b.from.getTime()),s=u(b.to.getTime())+864e5-1;else{const a=function(e){return"12m"===e?365:"90d"===e?90:"30d"===e?30:7}(p);e=h-24*a*60*60*1e3,s=h}return N.filter(a=>{const t="updated"===m&&(0,l.k)(a.updatedAt)||(0,l.k)(a.createdAt);return!!t&&t>=e&&t<=s})},[N,p,m,b,h]);return(0,i.jsxs)("div",{className:"flex h-full flex-col",children:[(0,i.jsx)("div",{className:"shrink-0 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,i.jsxs)("div",{className:"flex flex-col gap-3 px-1 pt-2 pb-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,i.jsx)("div",{className:"text-base font-semibold text-foreground",children:e("tabs.analytics","Analytics")}),(0,i.jsxs)(r.$n,{size:"sm",variant:"outline",shape:"pill",className:"gap-2",onClick:()=>a(!0),children:[(0,i.jsx)(t.A,{className:"h-4 w-4"}),e("loopsFilter.button","Loops")]})]}),(0,i.jsx)(d.Se,{})]})}),(0,i.jsx)(d.$1,{open:s,onOpenChange:a,value:k,loops:j,onChange:v}),(0,i.jsx)("div",{className:"flex-1 overflow-y-auto pb-6",children:(0,i.jsxs)("div",{className:"space-y-6 p-6",children:[(0,i.jsx)(d.zj,{matches:N,range:p,mode:m,customRange:b,onRangeChange:g,onModeChange:x,onCustomRangeChange:f}),(0,i.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,i.jsx)(d.Ev,{matches:C}),(0,i.jsx)(d.fp,{matches:C})]})]})})]})}const p=h}}]);
//# sourceMappingURL=1004.9cd2358b.chunk.js.map