"use strict";(self.webpackChunkjob_tracker_dashboard=self.webpackChunkjob_tracker_dashboard||[]).push([[9461],{99461(e,t,s){s.r(t),s.d(t,{default:()=>R});var r=s(96540),a=s(22022),i=s(95086),o=s(68701),n=s(43578),l=s(20410),d=s(24589),c=s(57616),u=s(25849),g=s(96788);function f(e){if(null==e)return;const t=function(e){if(e&&"function"==typeof e.toMillis)return e.toMillis();if("number"==typeof e)return e;if("string"==typeof e){const t=Date.parse(e);return Number.isFinite(t)?t:0}const t=e?.seconds;return"number"==typeof t?1e3*t:0}(e);return t>0?t:void 0}const m=e=>(0,d.H9)(g.db,"users",e,"private","resourcesFavorites"),h=e=>{if(!Array.isArray(e))return[];const t=e.filter(e=>"string"==typeof e).map(e=>e.trim()).filter(e=>e.length>0&&e.length<=128);return Array.from(new Set(t)).slice(0,500)},v=e=>({ids:h(e?.ids),updatedAt:f(e?.updatedAt),userId:"string"==typeof e?.userId?e.userId:void 0}),y=c.q.injectEndpoints({endpoints:e=>({getUserResourceFavorites:e.query({queryFn:({uid:e})=>(0,u.$)(async()=>{const t=m(e),s=await(0,d.x7)(t);if(!s.exists()){const s={ids:[],userId:e};return await(0,d.BN)(t,{...s,updatedAt:(0,d.O5)()},{merge:!0}),s}return v(s.data())}),providesTags:(e,t,s)=>[{type:"ResourceFavorites",id:s.uid}]}),toggleUserResourceFavorite:e.mutation({queryFn:({uid:e,resourceId:t})=>(0,u.$)(async()=>{const s=t.trim();if(!s)return{ids:[],userId:e};const r=m(e);return await(0,d.c4)(g.db,async t=>{const a=await t.get(r),i=a.exists()?v(a.data()):{ids:[],userId:e},o=new Set(i.ids);o.has(s)?o.delete(s):o.add(s);const n={ids:Array.from(o).slice(0,500),userId:e};return t.set(r,{...n,updatedAt:(0,d.O5)()},{merge:!0}),n})}),async onQueryStarted({uid:e,resourceId:t},{dispatch:s,queryFulfilled:r}){const a=s(y.util.updateQueryData("getUserResourceFavorites",{uid:e},s=>{const r=t.trim(),a=new Set(s?.ids??[]);a.has(r)?a.delete(r):a.add(r),s.ids=Array.from(a).slice(0,500),s.userId=e}));try{const{data:t}=await r;s(y.util.updateQueryData("getUserResourceFavorites",{uid:e},e=>{e.ids=t.ids,e.userId=t.userId}))}catch{a.undo()}},invalidatesTags:(e,t,s)=>[{type:"ResourceFavorites",id:s.uid}]})})}),{useGetUserResourceFavoritesQuery:p,useToggleUserResourceFavoriteMutation:x}=y,b=[{id:"ats",href:"https://www.jobscan.co/blog/ats-resume/",category:"cv",i18nKey:"ats",tagKeys:["tags.cv","tags.ats"]},{id:"coverLetter",href:"https://www.indeed.com/career-advice/resumes-cover-letters/cover-letter-format",category:"cv",i18nKey:"coverLetter",tagKeys:["tags.coverLetter","tags.templates"]},{id:"behavioral",href:"https://www.themuse.com/advice/star-interview-method",category:"interview",i18nKey:"behavioral",tagKeys:["tags.interview","STAR"]},{id:"systemDesign",href:"https://github.com/donnemartin/system-design-primer",category:"interview",i18nKey:"systemDesign",tagKeys:["tags.systemDesign","tags.engineering"]},{id:"linkedin",href:"https://www.linkedin.com/help/linkedin/answer/a507663",category:"jobBoards",i18nKey:"linkedin",tagKeys:["LinkedIn","tags.profile","tags.search"]},{id:"remote",href:"https://remote.com/blog",category:"jobBoards",i18nKey:"remote",tagKeys:["tags.remote","tags.jobs"]},{id:"javascript",href:"https://javascript.info/",category:"learning",i18nKey:"javascript",tagKeys:["JS","tags.learning"]},{id:"react",href:"https://react.dev/learn",category:"learning",i18nKey:"react",tagKeys:["React","tags.learning"]},{id:"deepWork",href:"https://calnewport.com/books/deep-work/",category:"productivity",i18nKey:"deepWork",tagKeys:["tags.focus","tags.productivity"]},{id:"timeboxing",href:"https://todoist.com/productivity-methods/timeboxing",category:"productivity",i18nKey:"timeboxing",tagKeys:["tags.planning","tags.productivity"]}],w=["cv","interview","jobBoards","learning","productivity"],j={all:"categories.all",cv:"categories.cv",interview:"categories.interview",jobBoards:"categories.jobBoards",learning:"categories.learning",productivity:"categories.productivity"},k=(0,s(9407).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var F=s(74848);const N=({title:e,description:t,href:s,tags:r,showFavorite:a,isFav:i,isPending:n,ariaLabel:l,onToggleFavorite:d,openLabel:c})=>(0,F.jsxs)(o.Zp,{padding:"md",shadow:"sm",interactive:!0,className:"flex flex-col gap-3",children:[(0,F.jsxs)("div",{className:"min-w-0 flex items-start justify-between gap-3",children:[(0,F.jsx)("div",{className:"min-w-0",children:(0,F.jsx)("div",{className:"text-base font-semibold text-foreground break-words [hyphens:auto]",children:e})}),a?(0,F.jsx)(o.$n,{variant:i?"default":"outline",size:"icon",shadow:"none","aria-label":l,disabled:n,onClick:d,className:["shrink-0",n?"opacity-70 pointer-events-none":""].join(" "),children:(0,F.jsx)(k,{className:i?"h-4 w-4 fill-current":"h-4 w-4"})}):null]}),(0,F.jsx)("div",{className:"mt-1 text-sm text-muted-foreground",children:t}),(0,F.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,F.jsx)("span",{className:"inline-flex items-center rounded-full bg-muted px-sm py-1 text-xs text-muted-foreground",children:e},`${s}:${e}`))}),(0,F.jsx)("div",{className:"mt-auto",children:(0,F.jsxs)("a",{href:s,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 text-sm font-medium text-primary hover:underline",children:[c,(0,F.jsx)("span",{"aria-hidden":!0,className:"text-muted-foreground",children:"↗"})]})})]}),C=({resultsText:e,isPrivate:t,favIsFetching:s,favoritesCountText:r,query:i,onQueryChange:n,onReset:l,category:d,onSelectCategory:c,categoryOptions:u})=>{const{t:g}=(0,a.Bd)();return(0,F.jsxs)(o.Zp,{padding:"md",shadow:"sm",className:"space-y-4",children:[(0,F.jsx)(o.X3,{title:g("resources.filters.title","Find what you need"),subtitle:g("resources.filters.subtitle","Filter by category or search by keywords."),right:(0,F.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,F.jsx)("span",{children:e}),t?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("span",{className:"hidden sm:inline",children:"•"}),(0,F.jsx)("span",{children:s?g("resources.favorites.loading","Loading…"):r})]}):null]})}),(0,F.jsxs)("div",{className:"grid gap-3 md:grid-cols-[1fr_auto] md:items-center",children:[(0,F.jsxs)("label",{className:"w-full",children:[(0,F.jsx)("div",{className:"mb-1 text-xs text-muted-foreground",children:g("resources.search.label","Search")}),(0,F.jsx)("input",{value:i,onChange:e=>n(e.target.value),placeholder:g("resources.search.placeholder","ATS, STAR, React, remote…"),className:["h-10 w-full rounded-xl border border-border bg-background px-3 text-sm text-foreground","placeholder:text-muted-foreground outline-none transition-colors","focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background"].join(" ")})]}),(0,F.jsx)("div",{className:"flex gap-2 md:justify-end",children:(0,F.jsx)(o.$n,{variant:"outline",size:"default",shadow:"none",onClick:l,className:"w-full md:w-auto",children:g("resources.actions.reset","Reset")})})]}),(0,F.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map(e=>{const t=e.key===d;return(0,F.jsx)(o.$n,{variant:t?"default":"outline",size:"sm",shadow:"none",onClick:()=>c(e.key),children:e.label},e.key)})})]})},S=({title:e,subtitle:t,isPrivate:s,viewMode:r,onSetViewMode:a,suggestHref:i,suggestLabel:n,allLabel:l,favoritesLabel:d})=>(0,F.jsx)(o.zY,{title:e,subtitle:t,right:(0,F.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-end",children:[s?(0,F.jsxs)("div",{className:"flex items-center gap-2",children:[(0,F.jsx)(o.$n,{variant:"all"===r?"default":"outline",size:"sm",shadow:"none",onClick:()=>a("all"),children:l}),(0,F.jsx)(o.$n,{variant:"favorites"===r?"default":"outline",size:"sm",shadow:"none",onClick:()=>a("favorites"),children:d})]}):null,(0,F.jsx)("a",{href:i,className:"inline-flex h-10 items-center justify-center rounded-md border border-border bg-card px-md text-sm font-medium text-foreground shadow-sm transition-colors duration-fast ease-ease-out hover:bg-muted/60",children:n})]})});let K=!1;const R=()=>{const{uid:e,isPrivate:t,favIsFetching:d,favIsError:c,refetchFavorites:u,query:g,setQuery:f,category:m,setCategory:h,viewMode:v,setViewMode:y,filtered:k,categoryOptions:R,resultsText:I,favoritesCountText:M,onReset:V,onToggleFavorite:L,isFavorite:T,isPending:A}=(()=>{const{t:e}=(0,a.Bd)(void 0,{keyPrefix:"resources"}),t=(0,r.useCallback)((t,s,r)=>e(t,"string"==typeof s?{defaultValue:s,...r??{}}:void 0),[e]),s=(0,n.G)(l.lo),i=Boolean(s),{data:o,isFetching:d,isError:c,refetch:u}=p({uid:s??""},{skip:!i,refetchOnMountOrArgChange:!0,refetchOnReconnect:!0,refetchOnFocus:!0}),[g]=x(),[f,m]=(0,r.useState)(new Set),[h,v]=(0,r.useState)(""),[y,k]=(0,r.useState)("all"),[F,N]=(0,r.useState)("all");(0,r.useEffect)(()=>{i||"all"===F||N("all")},[i,F]);const C=(0,r.useMemo)(()=>b.map(t=>{const s=e(`items.${t.i18nKey}.title`,{defaultValue:t.id}),r=e(`items.${t.i18nKey}.description`,{defaultValue:""}),a=t.tagKeys.map(t=>t.startsWith("tags.")?e(t,{defaultValue:t}):t);return{id:t.id,title:s,description:r,href:t.href,category:t.category,tags:a}}),[e]),S=(0,r.useMemo)(()=>i?new Set(o?.ids??[]):new Set,[o?.ids,i]),K=(0,r.useMemo)(()=>"favorites"!==F?C:C.filter(e=>S.has(e.id)),[C,S,F]),R=(0,r.useMemo)(()=>{if("favorites"!==F)return["all",...w];const e=new Set;for(const t of K)e.add(t.category);const t=["all"];for(const s of w)e.has(s)&&t.push(s);return t},[K,F]);(0,r.useEffect)(()=>{"favorites"!==F||R.includes(y)||k("all")},[R,F,y]);const I=(0,r.useMemo)(()=>R.map(e=>({key:e,label:t(j[e],e)})),[R,t]),M=(0,r.useMemo)(()=>{const e=h.trim().toLowerCase();return K.filter(e=>"all"===y||e.category===y).filter(t=>!e||[t.title,t.description,t.tags.join(" ")].join(" ").toLowerCase().includes(e))},[K,y,h]),V=(0,r.useMemo)(()=>0===M.length?t("results.none","No results"):t("results.count","{{count}} resources",{count:M.length}),[M.length,t]),L=(0,r.useMemo)(()=>t("favorites.count","{{count}} saved",{count:i?o?.ids?.length??0:0}),[o?.ids?.length,i,t]),T=(0,r.useCallback)(()=>{v(""),k("all"),N("all")},[]),A=(0,r.useCallback)(async e=>{if(i&&s){m(t=>{const s=new Set(t);return s.add(e),s});try{await g({uid:s,resourceId:e}).unwrap()}finally{m(t=>{const s=new Set(t);return s.delete(e),s})}}},[i,s,g]),$=(0,r.useCallback)(e=>!!i&&S.has(e),[S,i]),P=(0,r.useCallback)(e=>f.has(e),[f]);return{t:e,tr:t,uid:s,isPrivate:i,favIsFetching:d,favIsError:c,refetchFavorites:u,favoriteIds:S,query:h,setQuery:v,category:y,setCategory:k,viewMode:F,setViewMode:N,resources:C,baseList:K,filtered:M,categoryOptions:I,resultsText:V,favoritesCountText:L,onReset:T,onToggleFavorite:A,isFavorite:$,isPending:P}})(),{t:$}=(0,a.Bd)();(0,r.useEffect)(()=>{!async function(){if(K)return;const[e,t,r]=await Promise.all([s.e(6852).then(s.t.bind(s,16852,19)),s.e(8342).then(s.t.bind(s,88342,19)),s.e(616).then(s.t.bind(s,60616,19))]);(0,i.Z)("resources",{en:e.default,ru:t.default,de:r.default,uk:{}}),K=!0}()},[]);const P=r.useMemo(()=>`mailto:${$("resources.actions.suggest.email",{defaultValue:"danivdenis1@gmail.com"})}?subject=${encodeURIComponent($("resources.actions.suggest.subject",{defaultValue:"Resource suggestion"}))}`,[$]);return(0,F.jsxs)("div",{className:"space-y-6",children:[(0,F.jsx)(S,{title:$("resources.title",{defaultValue:"Resources"}),subtitle:$("resources.subtitle",{defaultValue:"Hand-picked links for CV, interviews, learning, and staying productive during the job search."}),isPrivate:t,viewMode:v,onSetViewMode:y,suggestHref:P,suggestLabel:$("resources.actions.suggest.label",{defaultValue:"Suggest a resource"}),allLabel:$("resources.tabs.all",{defaultValue:"All"}),favoritesLabel:$("resources.tabs.favorites",{defaultValue:"Favorites"})}),t&&c?(0,F.jsx)(o.Zp,{padding:"md",shadow:"sm",children:(0,F.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,F.jsx)("div",{className:"text-sm text-destructive",children:$("resources.errors.loadFailed",{defaultValue:"Could not load favorites. Check Firestore rules/permissions."})}),(0,F.jsx)(o.$n,{variant:"outline",size:"sm",shadow:"none",onClick:()=>u(),children:$("resources.actions.retry",{defaultValue:"Retry"})})]})}):null,(0,F.jsx)(C,{resultsText:I,isPrivate:t,favIsFetching:d,favoritesCountText:M,query:g,onQueryChange:f,onReset:V,category:m,onSelectCategory:h,categoryOptions:R}),(0,F.jsx)("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:k.map(s=>{const r=T(s.id),a=A(s.id);return(0,F.jsx)(N,{title:s.title,description:s.description,href:s.href,tags:s.tags,showFavorite:t,isFav:r,isPending:!e||a,ariaLabel:r?$("resources.actions.unsave",{defaultValue:"Remove from favorites"}):$("resources.actions.save",{defaultValue:"Save to favorites"}),onToggleFavorite:()=>L(s.id),openLabel:$("resources.actions.open",{defaultValue:"Open"})},s.id)})}),0===k.length?(0,F.jsx)(o.Zp,{padding:"md",shadow:"sm",children:(0,F.jsx)("div",{className:"text-sm text-muted-foreground",children:$("resources.empty",{defaultValue:"Try another keyword or switch the category filter."})})}):null]})}}}]);
//# sourceMappingURL=9461.a02e4599.chunk.js.map