{"version":3,"file":"assets/js/5044.5087693b.chunk.js","mappings":"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","sources":["webpack://job-tracker-dashboard/./src/entities/resourceFavorites/api/resourceFavoritesApi.ts","webpack://job-tracker-dashboard/./src/pages/ResourcesPage/model/catalog.ts","webpack://job-tracker-dashboard/./src/pages/ResourcesPage/model/constants.ts","webpack://job-tracker-dashboard/./node_modules/lucide-react/dist/esm/icons/star.js","webpack://job-tracker-dashboard/./src/pages/ResourcesPage/ui/ResourceCard.tsx","webpack://job-tracker-dashboard/./src/pages/ResourcesPage/ui/ResourcesFiltersCard.tsx","webpack://job-tracker-dashboard/./src/pages/ResourcesPage/ui/ResourcesHeader.tsx","webpack://job-tracker-dashboard/./src/pages/ResourcesPage/ResourcesPage.tsx","webpack://job-tracker-dashboard/./src/pages/ResourcesPage/model/useResourcesPage.ts","webpack://job-tracker-dashboard/./src/shared/lib/firestore/toMillis.ts"],"sourcesContent":["import type { QueryReturnValue } from \"@reduxjs/toolkit/query\";\nimport {\n  doc,\n  getDoc,\n  runTransaction,\n  serverTimestamp,\n  setDoc,\n} from \"firebase/firestore\";\n\nimport { baseApi } from \"src/shared/api/rtk/baseApi\";\nimport { guardRtk } from \"src/shared/api/rtk/guardRtk\";\nimport type { ApiError } from \"src/shared/api/rtk/rtkError\";\nimport { db } from \"src/shared/config/firebase/firebase\";\nimport { toMillisOptional } from \"src/shared/lib/firestore/toMillis\";\n\nexport type ResourceFavorites = {\n  ids: string[];\n  // Keep this serializable for RTK Query cache / Redux devtools.\n  updatedAt?: number;\n  userId?: string;\n};\n\nconst favoritesDocRef = (uid: string) =>\n  doc(db, \"users\", uid, \"private\", \"resourcesFavorites\");\n\nconst normalizeIds = (ids: unknown): string[] => {\n  if (!Array.isArray(ids)) return [];\n  const cleaned = ids\n    .filter((x) => typeof x === \"string\")\n    .map((x) => x.trim())\n    .filter((x) => x.length > 0 && x.length <= 128);\n\n  return Array.from(new Set(cleaned)).slice(0, 500);\n};\n\nconst normalizeFavorites = (\n  input: Partial<ResourceFavorites> | undefined | null,\n): ResourceFavorites => {\n  return {\n    ids: normalizeIds(input?.ids),\n    updatedAt: toMillisOptional((input as { updatedAt?: unknown } | null)?.updatedAt),\n    userId: typeof input?.userId === \"string\" ? input.userId : undefined,\n  };\n};\n\nexport const resourceFavoritesApi = baseApi.injectEndpoints({\n  endpoints: (build) => ({\n    getUserResourceFavorites: build.query<ResourceFavorites, { uid: string }>({\n      queryFn: ({ uid }) =>\n        guardRtk(async () => {\n          const ref = favoritesDocRef(uid);\n          const snap = await getDoc(ref);\n\n          if (!snap.exists()) {\n            const initial: ResourceFavorites = { ids: [], userId: uid };\n\n\n            await setDoc(\n              ref,\n              { ...initial, updatedAt: serverTimestamp() },\n              { merge: true },\n            );\n\n            return initial;\n          }\n\n          return normalizeFavorites(snap.data() as Partial<ResourceFavorites>);\n        }),\n      providesTags: (_r, _e, arg) => [{ type: \"ResourceFavorites\", id: arg.uid }],\n    }),\n\n\n    toggleUserResourceFavorite: build.mutation<\n      ResourceFavorites,\n      { uid: string; resourceId: string }\n    >({\n      queryFn: ({ uid, resourceId }): Promise<\n        QueryReturnValue<ResourceFavorites, ApiError, undefined>\n      > =>\n        guardRtk(async () => {\n          const id = resourceId.trim();\n          if (!id) return { ids: [], userId: uid };\n\n          const ref = favoritesDocRef(uid);\n\n          const result = await runTransaction(db, async (tx) => {\n            const snap = await tx.get(ref);\n\n            const current = snap.exists()\n              ? normalizeFavorites(snap.data() as Partial<ResourceFavorites>)\n              : ({ ids: [], userId: uid } as ResourceFavorites);\n\n            const set = new Set(current.ids);\n            if (set.has(id)) set.delete(id);\n            else set.add(id);\n\n            const next: ResourceFavorites = {\n              ids: Array.from(set).slice(0, 500),\n              userId: uid,\n            };\n\n            tx.set(ref, { ...next, updatedAt: serverTimestamp() }, { merge: true });\n\n            return next;\n          });\n\n          return result;\n        }),\n\n      async onQueryStarted({ uid, resourceId }, { dispatch, queryFulfilled }) {\n        const patch = dispatch(\n          resourceFavoritesApi.util.updateQueryData(\n            \"getUserResourceFavorites\",\n            { uid },\n            (draft) => {\n              const id = resourceId.trim();\n              const set = new Set(draft?.ids ?? []);\n              if (set.has(id)) set.delete(id);\n              else set.add(id);\n              draft.ids = Array.from(set).slice(0, 500);\n              draft.userId = uid;\n            },\n          ),\n        );\n\n        try {\n          const { data } = await queryFulfilled;\n          dispatch(\n            resourceFavoritesApi.util.updateQueryData(\n              \"getUserResourceFavorites\",\n              { uid },\n              (draft) => {\n                draft.ids = data.ids;\n                draft.userId = data.userId;\n              },\n            ),\n          );\n        } catch {\n          patch.undo();\n        }\n      },\n\n      invalidatesTags: (_r, _e, arg) => [{ type: \"ResourceFavorites\", id: arg.uid }],\n    }),\n  }),\n});\n\nexport const {\n  useGetUserResourceFavoritesQuery,\n  useToggleUserResourceFavoriteMutation,\n} = resourceFavoritesApi;","import { ResourceItem } from \"./types\";\n\nexport const resourcesCatalog: ResourceItem[] = [\n  {\n    id: \"ats\",\n    href: \"https://www.jobscan.co/blog/ats-resume/\",\n    category: \"cv\",\n    i18nKey: \"ats\",\n    tagKeys: [\"tags.cv\", \"tags.ats\"],\n  },\n  {\n    id: \"coverLetter\",\n    href: \"https://www.indeed.com/career-advice/resumes-cover-letters/cover-letter-format\",\n    category: \"cv\",\n    i18nKey: \"coverLetter\",\n    tagKeys: [\"tags.coverLetter\", \"tags.templates\"],\n  },\n  {\n    id: \"behavioral\",\n    href: \"https://www.themuse.com/advice/star-interview-method\",\n    category: \"interview\",\n    i18nKey: \"behavioral\",\n    tagKeys: [\"tags.interview\", \"STAR\"],\n  },\n  {\n    id: \"systemDesign\",\n    href: \"https://github.com/donnemartin/system-design-primer\",\n    category: \"interview\",\n    i18nKey: \"systemDesign\",\n    tagKeys: [\"tags.systemDesign\", \"tags.engineering\"],\n  },\n  {\n    id: \"linkedin\",\n    href: \"https://www.linkedin.com/help/linkedin/answer/a507663\",\n    category: \"jobBoards\",\n    i18nKey: \"linkedin\",\n    tagKeys: [\"LinkedIn\", \"tags.profile\", \"tags.search\"],\n  },\n  {\n    id: \"remote\",\n    href: \"https://remote.com/blog\",\n    category: \"jobBoards\",\n    i18nKey: \"remote\",\n    tagKeys: [\"tags.remote\", \"tags.jobs\"],\n  },\n  {\n    id: \"javascript\",\n    href: \"https://javascript.info/\",\n    category: \"learning\",\n    i18nKey: \"javascript\",\n    tagKeys: [\"JS\", \"tags.learning\"],\n  },\n  {\n    id: \"react\",\n    href: \"https://react.dev/learn\",\n    category: \"learning\",\n    i18nKey: \"react\",\n    tagKeys: [\"React\", \"tags.learning\"],\n  },\n  {\n    id: \"deepWork\",\n    href: \"https://calnewport.com/books/deep-work/\",\n    category: \"productivity\",\n    i18nKey: \"deepWork\",\n    tagKeys: [\"tags.focus\", \"tags.productivity\"],\n  },\n  {\n    id: \"timeboxing\",\n    href: \"https://todoist.com/productivity-methods/timeboxing\",\n    category: \"productivity\",\n    i18nKey: \"timeboxing\",\n    tagKeys: [\"tags.planning\", \"tags.productivity\"],\n  },\n];\n","import { ResourceCategory } from \"./types\";\n\nexport const CATEGORY_ORDER: Exclude<ResourceCategory, \"all\">[] = [\n  \"cv\",\n  \"interview\",\n  \"jobBoards\",\n  \"learning\",\n  \"productivity\",\n];\n\nexport const categoryLabelKey: Record<ResourceCategory, string> = {\n  all: \"categories.all\",\n  cv: \"categories.cv\",\n  interview: \"categories.interview\",\n  jobBoards: \"categories.jobBoards\",\n  learning: \"categories.learning\",\n  productivity: \"categories.productivity\",\n};\n","/**\n * @license lucide-react v0.562.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z\",\n      key: \"r04s7s\"\n    }\n  ]\n];\nconst Star = createLucideIcon(\"star\", __iconNode);\n\nexport { __iconNode, Star as default };\n//# sourceMappingURL=star.js.map\n","import { Star } from \"lucide-react\";\nimport React from \"react\";\n\nimport { Button, Card } from \"src/shared/ui\";\n\ntype Props = {\n  title: string;\n  description: string;\n  href: string;\n  tags: string[];\n\n  showFavorite: boolean;\n  isFav: boolean;\n  isPending: boolean;\n  ariaLabel: string;\n  onToggleFavorite: () => void;\n\n  openLabel: string;\n};\n\nexport const ResourceCard: React.FC<Props> = ({\n  title,\n  description,\n  href,\n  tags,\n  showFavorite,\n  isFav,\n  isPending,\n  ariaLabel,\n  onToggleFavorite,\n  openLabel,\n}) => {\n  return (\n    <Card padding=\"md\" shadow=\"sm\" interactive className=\"flex flex-col gap-3\">\n      <div className=\"min-w-0 flex items-start justify-between gap-3\">\n        <div className=\"min-w-0\">\n          <div className=\"text-base font-semibold text-foreground break-words [hyphens:auto]\">\n            {title}\n          </div>\n        </div>\n\n        {showFavorite ? (\n          <Button\n            variant={isFav ? \"default\" : \"outline\"}\n            size=\"icon\"\n            shadow=\"none\"\n            aria-label={ariaLabel}\n            disabled={isPending}\n            onClick={onToggleFavorite}\n            className={[\n              \"shrink-0\",\n              isPending ? \"opacity-70 pointer-events-none\" : \"\",\n            ].join(\" \")}\n          >\n            <Star className={isFav ? \"h-4 w-4 fill-current\" : \"h-4 w-4\"} />\n          </Button>\n        ) : null}\n      </div>\n\n      <div className=\"mt-1 text-sm text-muted-foreground\">{description}</div>\n\n      <div className=\"flex flex-wrap gap-2\">\n        {tags.map((tag) => (\n          <span\n            key={`${href}:${tag}`}\n            className=\"inline-flex items-center rounded-full bg-muted px-sm py-1 text-xs text-muted-foreground\"\n          >\n            {tag}\n          </span>\n        ))}\n      </div>\n\n      <div className=\"mt-auto\">\n        <a\n          href={href}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"inline-flex items-center gap-2 text-sm font-medium text-primary hover:underline\"\n        >\n          {openLabel}\n          <span aria-hidden className=\"text-muted-foreground\">\n            ↗\n          </span>\n        </a>\n      </div>\n    </Card>\n  );\n};\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { Button, Card, SectionHeader } from \"src/shared/ui\";\n\nimport type { ResourceCategory } from \"../model/types\";\nimport type { CategoryOption } from \"../model/useResourcesPage\";\n\ntype Props = {\n  resultsText: string;\n  isPrivate: boolean;\n  favIsFetching: boolean;\n  favoritesCountText: string;\n\n  query: string;\n  onQueryChange: (value: string) => void;\n\n  onReset: () => void;\n\n  category: ResourceCategory;\n  onSelectCategory: (key: ResourceCategory) => void;\n  categoryOptions: CategoryOption[];\n};\n\nexport const ResourcesFiltersCard: React.FC<Props> = ({\n  resultsText,\n  isPrivate,\n  favIsFetching,\n  favoritesCountText,\n  query,\n  onQueryChange,\n  onReset,\n  category,\n  onSelectCategory,\n  categoryOptions,\n}) => {\n  const { t } = useTranslation();\n  return (\n    <Card padding=\"md\" shadow=\"sm\" className=\"space-y-4\">\n      <SectionHeader\n        title={t(\"resources.filters.title\", \"Find what you need\")}\n        subtitle={t(\n          \"resources.filters.subtitle\",\n          \"Filter by category or search by keywords.\",\n        )}\n        right={\n          <div className=\"flex items-center gap-3 text-sm text-muted-foreground\">\n            <span>{resultsText}</span>\n            {isPrivate ? (\n              <>\n                <span className=\"hidden sm:inline\">•</span>\n                <span>\n                  {favIsFetching\n                    ? t(\"resources.favorites.loading\", \"Loading…\")\n                    : favoritesCountText}\n                </span>\n              </>\n            ) : null}\n          </div>\n        }\n      />\n\n      <div className=\"grid gap-3 md:grid-cols-[1fr_auto] md:items-center\">\n        <label className=\"w-full\">\n          <div className=\"mb-1 text-xs text-muted-foreground\">\n            {t(\"resources.search.label\", \"Search\")}\n          </div>\n          <input\n            value={query}\n            onChange={(e) => onQueryChange(e.target.value)}\n            placeholder={t(\n              \"resources.search.placeholder\",\n              \"ATS, STAR, React, remote…\",\n            )}\n            className={[\n              \"h-10 w-full rounded-xl border border-border bg-background px-3 text-sm text-foreground\",\n              \"placeholder:text-muted-foreground outline-none transition-colors\",\n              \"focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n            ].join(\" \")}\n          />\n        </label>\n\n        <div className=\"flex gap-2 md:justify-end\">\n          <Button\n            variant=\"outline\"\n            size=\"default\"\n            shadow=\"none\"\n            onClick={onReset}\n            className=\"w-full md:w-auto\"\n          >\n            {t(\"resources.actions.reset\", \"Reset\")}\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"flex flex-wrap gap-2\">\n        {categoryOptions.map((c) => {\n          const active = c.key === category;\n          return (\n            <Button\n              key={c.key}\n              variant={active ? \"default\" : \"outline\"}\n              size=\"sm\"\n              shadow=\"none\"\n              onClick={() => onSelectCategory(c.key)}\n            >\n              {c.label}\n            </Button>\n          );\n        })}\n      </div>\n    </Card>\n  );\n};\n","import React from \"react\";\n\nimport { Button, PageHeader } from \"src/shared/ui\";\n\ntype Props = {\n  title: string;\n  subtitle: string;\n  isPrivate: boolean;\n  viewMode: \"all\" | \"favorites\";\n  onSetViewMode: (mode: \"all\" | \"favorites\") => void;\n  suggestHref: string;\n  suggestLabel: string;\n  allLabel: string;\n  favoritesLabel: string;\n};\n\nexport const ResourcesHeader: React.FC<Props> = ({\n  title,\n  subtitle,\n  isPrivate,\n  viewMode,\n  onSetViewMode,\n  suggestHref,\n  suggestLabel,\n  allLabel,\n  favoritesLabel,\n}) => {\n  return (\n    <PageHeader\n      title={title}\n      subtitle={subtitle}\n      right={\n        <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-end\">\n          {isPrivate ? (\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant={viewMode === \"all\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                shadow=\"none\"\n                onClick={() => onSetViewMode(\"all\")}\n              >\n                {allLabel}\n              </Button>\n              <Button\n                variant={viewMode === \"favorites\" ? \"default\" : \"outline\"}\n                size=\"sm\"\n                shadow=\"none\"\n                onClick={() => onSetViewMode(\"favorites\")}\n              >\n                {favoritesLabel}\n              </Button>\n            </div>\n          ) : null}\n\n          <a\n            href={suggestHref}\n            className=\"inline-flex h-10 items-center justify-center rounded-md border border-border bg-card px-md text-sm font-medium text-foreground shadow-sm transition-colors duration-fast ease-ease-out hover:bg-muted/60\"\n          >\n            {suggestLabel}\n          </a>\n        </div>\n      }\n    />\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { loadTranslations } from \"src/shared/config/i18n/loadTranslations\";\nimport { Button, Card } from \"src/shared/ui\";\n\nimport { useResourcesPage } from \"./model/useResourcesPage\";\nimport { ResourceCard } from \"./ui/ResourceCard\";\nimport { ResourcesFiltersCard } from \"./ui/ResourcesFiltersCard\";\nimport { ResourcesHeader } from \"./ui/ResourcesHeader\";\n\nlet resourcesLocalesLoaded = false;\n\nasync function ensureResourcesLocalesLoaded() {\n  if (resourcesLocalesLoaded) return;\n\n  const [en, ru, de] = await Promise.all([\n    import(\"./locales/en.json\"),\n    import(\"./locales/ru.json\"),\n    import(\"./locales/de.json\"),\n  ]);\n\n  loadTranslations(\"resources\", {\n    en: en.default,\n    ru: ru.default,\n    de: de.default,\n    uk: {},\n  });\n\n  resourcesLocalesLoaded = true;\n}\n\nconst ResourcesPage: React.FC = () => {\n  const {\n    uid,\n    isPrivate,\n\n    favIsFetching,\n    favIsError,\n    refetchFavorites,\n\n    query,\n    setQuery,\n    category,\n    setCategory,\n    viewMode,\n    setViewMode,\n\n    filtered,\n    categoryOptions,\n    resultsText,\n    favoritesCountText,\n\n    onReset,\n    onToggleFavorite,\n    isFavorite,\n    isPending,\n  } = useResourcesPage();\n\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    void ensureResourcesLocalesLoaded();\n  }, []);\n\n  const suggestHref = React.useMemo(() => {\n    const email = t(\"resources.actions.suggest.email\", {\n      defaultValue: \"danivdenis1@gmail.com\",\n    });\n\n    const subject = encodeURIComponent(\n      t(\"resources.actions.suggest.subject\", {\n        defaultValue: \"Resource suggestion\",\n      }),\n    );\n\n    return `mailto:${email}?subject=${subject}`;\n  }, [t]);\n\n  return (\n    <div className=\"space-y-6\">\n      <ResourcesHeader\n        title={t(\"resources.title\", { defaultValue: \"Resources\" })}\n        subtitle={t(\"resources.subtitle\", {\n          defaultValue:\n            \"Hand-picked links for CV, interviews, learning, and staying productive during the job search.\",\n        })}\n        isPrivate={isPrivate}\n        viewMode={viewMode}\n        onSetViewMode={setViewMode}\n        suggestHref={suggestHref}\n        suggestLabel={t(\"resources.actions.suggest.label\", {\n          defaultValue: \"Suggest a resource\",\n        })}\n        allLabel={t(\"resources.tabs.all\", { defaultValue: \"All\" })}\n        favoritesLabel={t(\"resources.tabs.favorites\", {\n          defaultValue: \"Favorites\",\n        })}\n      />\n\n      {isPrivate && favIsError ? (\n        <Card padding=\"md\" shadow=\"sm\">\n          <div className=\"flex items-center justify-between gap-3\">\n            <div className=\"text-sm text-destructive\">\n              {t(\"resources.errors.loadFailed\", {\n                defaultValue:\n                  \"Could not load favorites. Check Firestore rules/permissions.\",\n              })}\n            </div>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              shadow=\"none\"\n              onClick={() => refetchFavorites()}\n            >\n              {t(\"resources.actions.retry\", { defaultValue: \"Retry\" })}\n            </Button>\n          </div>\n        </Card>\n      ) : null}\n\n      <ResourcesFiltersCard\n        resultsText={resultsText}\n        isPrivate={isPrivate}\n        favIsFetching={favIsFetching}\n        favoritesCountText={favoritesCountText}\n        query={query}\n        onQueryChange={setQuery}\n        onReset={onReset}\n        category={category}\n        onSelectCategory={setCategory}\n        categoryOptions={categoryOptions}\n      />\n\n      <div className=\"grid gap-3 sm:grid-cols-2 lg:grid-cols-3\">\n        {filtered.map((r) => {\n          const isFav = isFavorite(r.id);\n          const pending = isPending(r.id);\n\n          return (\n            <ResourceCard\n              key={r.id}\n              title={r.title}\n              description={r.description}\n              href={r.href}\n              tags={r.tags}\n              showFavorite={isPrivate}\n              isFav={isFav}\n              isPending={!uid || pending}\n              ariaLabel={\n                isFav\n                  ? t(\"resources.actions.unsave\", {\n                      defaultValue: \"Remove from favorites\",\n                    })\n                  : t(\"resources.actions.save\", {\n                      defaultValue: \"Save to favorites\",\n                    })\n              }\n              onToggleFavorite={() => onToggleFavorite(r.id)}\n              openLabel={t(\"resources.actions.open\", { defaultValue: \"Open\" })}\n            />\n          );\n        })}\n      </div>\n\n      {filtered.length === 0 ? (\n        <Card padding=\"md\" shadow=\"sm\">\n          <div className=\"text-sm text-muted-foreground\">\n            {t(\"resources.empty\", {\n              defaultValue:\n                \"Try another keyword or switch the category filter.\",\n            })}\n          </div>\n        </Card>\n      ) : null}\n    </div>\n  );\n};\n\nexport default ResourcesPage;\n","import { useEffect, useMemo, useState, useCallback } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useAppSelector } from \"src/app/store/hooks\";\nimport { selectUid } from \"src/entities/auth\";\nimport {\n  useGetUserResourceFavoritesQuery,\n  useToggleUserResourceFavoriteMutation,\n} from \"src/entities/resourceFavorites\";\n\nimport { resourcesCatalog } from \"./catalog\";\nimport { CATEGORY_ORDER, categoryLabelKey } from \"./constants\";\nimport { ResourceCategory, ViewMode } from \"./types\";\n\nexport type CategoryOption = { key: ResourceCategory; label: string };\n\nexport type LocalizedResource = {\n  id: string;\n  title: string;\n  description: string;\n  href: string;\n  category: Exclude<ResourceCategory, \"all\">;\n  tags: string[];\n};\n\nexport const useResourcesPage = () => {\n  const { t } = useTranslation(undefined, { keyPrefix: \"resources\" });\n\n  const tr = useCallback(\n    (key: string, fallback?: string, options?: Record<string, unknown>) =>\n      t(\n        key,\n        typeof fallback === \"string\"\n          ? { defaultValue: fallback, ...(options ?? {}) }\n          : undefined,\n      ),\n    [t],\n  );\n\n  const uid = useAppSelector(selectUid);\n  const isPrivate = Boolean(uid);\n\n  const {\n    data: favoritesData,\n    isFetching: favIsFetching,\n    isError: favIsError,\n    refetch: refetchFavorites,\n  } = useGetUserResourceFavoritesQuery(\n    { uid: uid ?? \"\" },\n    {\n      skip: !isPrivate,\n      refetchOnMountOrArgChange: true,\n      refetchOnReconnect: true,\n      refetchOnFocus: true,\n    },\n  );\n\n  const [toggleFavorite] = useToggleUserResourceFavoriteMutation();\n  const [pendingIds, setPendingIds] = useState<Set<string>>(new Set());\n\n  const [query, setQuery] = useState(\"\");\n  const [category, setCategory] = useState<ResourceCategory>(\"all\");\n  const [viewMode, setViewMode] = useState<ViewMode>(\"all\");\n\n  useEffect(() => {\n    if (!isPrivate && viewMode !== \"all\") {\n      setViewMode(\"all\");\n    }\n  }, [isPrivate, viewMode]);\n\n  const resources: LocalizedResource[] = useMemo(() => {\n    return resourcesCatalog.map((r) => {\n      const title = t(`items.${r.i18nKey}.title`, { defaultValue: r.id });\n      const description = t(`items.${r.i18nKey}.description`, {\n        defaultValue: \"\",\n      });\n\n      const tags = r.tagKeys.map((key) => {\n        if (!key.startsWith(\"tags.\")) return key;\n        return t(key, { defaultValue: key });\n      });\n\n      return {\n        id: r.id,\n        title,\n        description,\n        href: r.href,\n        category: r.category,\n        tags,\n      };\n    });\n  }, [t]);\n\n  const favoriteIds = useMemo(() => {\n    if (!isPrivate) return new Set<string>();\n    return new Set(favoritesData?.ids ?? []);\n  }, [favoritesData?.ids, isPrivate]);\n\n  const baseList = useMemo(() => {\n    if (viewMode !== \"favorites\") return resources;\n    return resources.filter((r) => favoriteIds.has(r.id));\n  }, [resources, favoriteIds, viewMode]);\n\n  const availableCategories = useMemo((): ResourceCategory[] => {\n    if (viewMode !== \"favorites\") return [\"all\", ...CATEGORY_ORDER];\n\n    const set = new Set<Exclude<ResourceCategory, \"all\">>();\n    for (const r of baseList) set.add(r.category);\n\n    const list: ResourceCategory[] = [\"all\"];\n    for (const c of CATEGORY_ORDER) {\n      if (set.has(c)) list.push(c);\n    }\n\n    return list;\n  }, [baseList, viewMode]);\n\n  useEffect(() => {\n    if (viewMode === \"favorites\" && !availableCategories.includes(category)) {\n      setCategory(\"all\");\n    }\n  }, [availableCategories, viewMode, category]);\n\n  const categoryOptions: CategoryOption[] = useMemo(() => {\n    return availableCategories.map((key) => ({\n      key,\n      label: tr(categoryLabelKey[key], key),\n    }));\n  }, [availableCategories, tr]);\n\n  const filtered = useMemo(() => {\n    const q = query.trim().toLowerCase();\n\n    return baseList\n      .filter((r) => (category === \"all\" ? true : r.category === category))\n      .filter((r) => {\n        if (!q) return true;\n\n        const hay = [r.title, r.description, r.tags.join(\" \")]\n          .join(\" \")\n          .toLowerCase();\n\n        return hay.includes(q);\n      });\n  }, [baseList, category, query]);\n\n  const resultsText = useMemo(() => {\n    if (filtered.length === 0) {\n      return tr(\"results.none\", \"No results\");\n    }\n\n    return tr(\"results.count\", \"{{count}} resources\", {\n      count: filtered.length,\n    });\n  }, [filtered.length, tr]);\n\n  const favoritesCountText = useMemo(() => {\n    const count = isPrivate ? (favoritesData?.ids?.length ?? 0) : 0;\n    return tr(\"favorites.count\", \"{{count}} saved\", { count });\n  }, [favoritesData?.ids?.length, isPrivate, tr]);\n\n  const onReset = useCallback(() => {\n    setQuery(\"\");\n    setCategory(\"all\");\n    setViewMode(\"all\");\n  }, []);\n\n  const onToggleFavorite = useCallback(\n    async (resourceId: string) => {\n      if (!isPrivate || !uid) return;\n\n      setPendingIds((prev) => {\n        const next = new Set(prev);\n        next.add(resourceId);\n        return next;\n      });\n\n      try {\n        await toggleFavorite({ uid, resourceId }).unwrap();\n      } finally {\n        setPendingIds((prev) => {\n          const next = new Set(prev);\n          next.delete(resourceId);\n          return next;\n        });\n      }\n    },\n    [isPrivate, uid, toggleFavorite],\n  );\n\n  const isFavorite = useCallback(\n    (resourceId: string) => {\n      if (!isPrivate) return false;\n      return favoriteIds.has(resourceId);\n    },\n    [favoriteIds, isPrivate],\n  );\n\n  const isPending = useCallback(\n    (resourceId: string) => pendingIds.has(resourceId),\n    [pendingIds],\n  );\n\n  return {\n    t,\n    tr,\n\n    uid,\n    isPrivate,\n\n    favIsFetching,\n    favIsError,\n    refetchFavorites,\n    favoriteIds,\n\n    query,\n    setQuery,\n    category,\n    setCategory,\n    viewMode,\n    setViewMode,\n\n    resources,\n    baseList,\n    filtered,\n    categoryOptions,\n    resultsText,\n    favoritesCountText,\n\n    onReset,\n    onToggleFavorite,\n    isFavorite,\n    isPending,\n  };\n};","// Utilities to keep Firestore values serializable inside Redux state.\n//\n// Firestore Timestamp is not serializable (class instance), so whenever we\n// want to store time-like values in RTK Query cache or Redux state, we convert\n// them to plain numbers (epoch millis) or strings.\n\nexport function toMillis(value: unknown): number {\n  if (value && typeof (value as { toMillis?: unknown }).toMillis === \"function\") {\n    return (value as { toMillis: () => number }).toMillis();\n  }\n\n  if (typeof value === \"number\") return value;\n\n  if (typeof value === \"string\") {\n    const ms = Date.parse(value);\n    return Number.isFinite(ms) ? ms : 0;\n  }\n\n  // Firestore Timestamp-like POJO: { seconds, nanoseconds }\n  const seconds = (value as { seconds?: unknown } | null)?.seconds;\n  if (typeof seconds === \"number\") return seconds * 1000;\n\n  return 0;\n}\n\nexport function toMillisOptional(value: unknown): number | undefined {\n  if (value == null) return undefined;\n  const ms = toMillis(value);\n  return ms > 0 ? ms : undefined;\n}\n"],"names":["favoritesDocRef","uid","doc","db","normalizeIds","ids","Array","isArray","cleaned","filter","x","map","trim","length","from","Set","slice","normalizeFavorites","input","updatedAt","toMillisOptional","userId","undefined","resourceFavoritesApi","baseApi","injectEndpoints","endpoints","build","getUserResourceFavorites","query","queryFn","guardRtk","async","ref","snap","getDoc","exists","initial","setDoc","serverTimestamp","merge","data","providesTags","_r","_e","arg","type","id","toggleUserResourceFavorite","mutation","resourceId","runTransaction","tx","get","current","set","has","delete","add","next","onQueryStarted","dispatch","queryFulfilled","patch","util","updateQueryData","draft","undo","invalidatesTags","useGetUserResourceFavoritesQuery","useToggleUserResourceFavoriteMutation","resourcesCatalog","href","category","i18nKey","tagKeys","CATEGORY_ORDER","categoryLabelKey","all","cv","interview","jobBoards","learning","productivity","Star","d","key","ResourceCard","title","description","tags","showFavorite","isFav","isPending","ariaLabel","onToggleFavorite","openLabel","_jsxs","Card","padding","shadow","interactive","className","children","_jsx","Button","variant","size","disabled","onClick","join","tag","target","rel","ResourcesFiltersCard","resultsText","isPrivate","favIsFetching","favoritesCountText","onQueryChange","onReset","onSelectCategory","categoryOptions","t","useTranslation","SectionHeader","subtitle","right","_Fragment","value","onChange","e","placeholder","c","active","label","ResourcesHeader","viewMode","onSetViewMode","suggestHref","suggestLabel","allLabel","favoritesLabel","PageHeader","resourcesLocalesLoaded","ResourcesPage","favIsError","refetchFavorites","setQuery","setCategory","setViewMode","filtered","isFavorite","useResourcesPage","keyPrefix","tr","useCallback","fallback","options","defaultValue","useAppSelector","selectUid","Boolean","favoritesData","isFetching","isError","refetch","skip","refetchOnMountOrArgChange","refetchOnReconnect","refetchOnFocus","toggleFavorite","pendingIds","setPendingIds","useState","useEffect","resources","useMemo","r","startsWith","favoriteIds","baseList","availableCategories","list","push","includes","q","toLowerCase","count","prev","unwrap","en","ru","de","Promise","loadTranslations","default","uk","ensureResourcesLocalesLoaded","React","encodeURIComponent","pending","toMillis","ms","Date","parse","Number","isFinite","seconds"],"ignoreList":[],"sourceRoot":""}