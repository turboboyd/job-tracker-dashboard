{"version":3,"file":"assets/js/8012.170bc896.chunk.js","mappings":"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","sources":["webpack://job-tracker-dashboard/./src/pages/DashboardPage/model/useDashboardData.ts","webpack://job-tracker-dashboard/./src/pages/DashboardPage/DashboardIcon.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/DashboardStats.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/DashboardPipelineCard.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/DashboardRecentJobsCard.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/DashboardOnboardingActions.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/DashboardLoopsFilterModal.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/DashboardTabsNav.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/trends/trends.constants.ts","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/trends/TrendsTooltip.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/trends/TrendsChart.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/trends/TrendsLegend.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/model/dashboardTimeSeries.ts","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/trends/useTrendsData.ts","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/trends/DashboardTrendsCard.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/DashboardInsightsCard.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/DashboardTimelineCard.tsx","webpack://job-tracker-dashboard/./src/pages/DashboardPage/ui/DashboardStatusRadarCard.tsx"],"sourcesContent":["import { skipToken } from \"@reduxjs/toolkit/query\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { useAuthSelectors } from \"src/entities/auth\";\nimport { useGetLoopsQuery, type Loop } from \"src/entities/loop\";\nimport type { LoopMatchStatus } from \"src/entities/loopMatch\";\nimport { useGetAllMatchesQuery } from \"src/entities/loopMatch\";\n\nimport type { DashboardLoopsFilterValue } from \"../ui\";\nimport type { RecentJob } from \"../ui/DashboardRecentJobsCard\";\n\ntype MatchLike = {\n  id: string;\n  loopId?: string;\n  createdAt?: unknown;\n  title?: string | null;\n  company?: string | null;\n  location?: string | null;\n  url?: string | null;\n  notes?: string | null;\n  status?: unknown;\n  updatedAt?: unknown;\n};\n\nexport type DashboardChartMatch = {\n  status: LoopMatchStatus;\n  createdAt: unknown;\n  updatedAt: unknown;\n  loopId: string | undefined;\n};\n\nexport type DashboardPipelineSummary = {\n  total: number;\n  new: number;\n  applied: number;\n  saved: number;\n  interview: number;\n  offer: number;\n  rejected: number;\n};\n\nexport type DashboardData = {\n  userId: string | null;\n  loops: Loop[];\n\n  loopsFilter: DashboardLoopsFilterValue;\n  setLoopsFilter: (v: DashboardLoopsFilterValue) => void;\n\n  matches: MatchLike[];\n  matchesAll: MatchLike[];\n  chartMatches: DashboardChartMatch[];\n\n  isLoading: boolean;\n  error: string | null;\n\n  hasMatches: boolean;\n  /** Most recent jobs (used by DashboardActivityPage) */\n  recentJobs: RecentJob[];\n  /** Back-compat alias */\n  recent: RecentJob[];\n\n  pipelineSummary: DashboardPipelineSummary;\n};\n\nconst LS_KEY = \"dashboard:loops-filter:v1\";\n\nfunction safeParseFilter(raw: string | null): DashboardLoopsFilterValue {\n  try {\n    if (!raw) return { mode: \"all\" };\n    const parsed: unknown = JSON.parse(raw);\n    if (!parsed || typeof parsed !== \"object\") return { mode: \"all\" };\n    const obj = parsed as Record<string, unknown>;\n    if (obj.mode === \"all\") return { mode: \"all\" };\n    if (obj.mode === \"selected\" && Array.isArray(obj.selectedLoopIds)) {\n      return {\n        mode: \"selected\",\n        selectedLoopIds: obj.selectedLoopIds.filter(\n          (x): x is string => typeof x === \"string\",\n        ),\n      };\n    }\n  } catch {\n    // ignore\n  }\n  return { mode: \"all\" };\n}\n\nfunction toMillis(value: unknown): number {\n  if (\n    value &&\n    typeof (value as { toMillis?: unknown }).toMillis === \"function\"\n  ) {\n    return (value as { toMillis: () => number }).toMillis();\n  }\n  if (typeof value === \"number\") return value;\n  if (typeof value === \"string\") {\n    const ms = Date.parse(value);\n    return Number.isFinite(ms) ? ms : 0;\n  }\n  // Firestore timestamp { seconds }\n  const seconds = (value as { seconds?: unknown } | null)?.seconds;\n  if (typeof seconds === \"number\") return seconds * 1000;\n  return 0;\n}\n\nfunction statusKey(value: unknown): string {\n  if (typeof value === \"string\" && value.trim().length > 0) {\n    return value.trim().toLowerCase();\n  }\n  return \"unknown\";\n}\n\nfunction normalizeStatus(value: unknown): LoopMatchStatus | null {\n  if (typeof value !== \"string\") return null;\n  const v = value.trim().toLowerCase();\n  if (\n    v === \"new\" ||\n    v === \"saved\" ||\n    v === \"applied\" ||\n    v === \"interview\" ||\n    v === \"offer\" ||\n    v === \"rejected\"\n  ) {\n    return v as LoopMatchStatus;\n  }\n  return null;\n}\n\nfunction buildSummary(statuses: string[]): {\n  total: number;\n  byStatus: Record<string, number>;\n} {\n  const byStatus: Record<string, number> = {};\n  let total = 0;\n  for (const st of statuses) {\n    total += 1;\n    byStatus[st] = (byStatus[st] ?? 0) + 1;\n  }\n  return { total, byStatus };\n}\n\nfunction toPipelineSummary(\n  total: number,\n  byStatus: Record<string, number>,\n): DashboardPipelineSummary {\n  const pick = (k: keyof Omit<DashboardPipelineSummary, \"total\">) =>\n    byStatus[k] ?? 0;\n  return {\n    total,\n    new: pick(\"new\"),\n    applied: pick(\"applied\"),\n    saved: pick(\"saved\"),\n    interview: pick(\"interview\"),\n    offer: pick(\"offer\"),\n    rejected: pick(\"rejected\"),\n  };\n}\n\nexport function useDashboardData(): DashboardData {\n    const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n  const { userId } = useAuthSelectors();\n\n  const loopsQ = useGetLoopsQuery(userId ? undefined : skipToken);\n  const loops = loopsQ.data ?? [];\n\n  const [loopsFilter, setLoopsFilter] = useState<DashboardLoopsFilterValue>(\n    () =>\n      safeParseFilter(\n        typeof window !== \"undefined\"\n          ? window.localStorage.getItem(LS_KEY)\n          : null,\n      ),\n  );\n\n  useEffect(() => {\n    try {\n      window.localStorage.setItem(LS_KEY, JSON.stringify(loopsFilter));\n    } catch {\n      // ignore\n    }\n  }, [loopsFilter]);\n\n  const matchesQ = useGetAllMatchesQuery(userId ? undefined : skipToken);\n  const matchesAll = useMemo(\n    () => ((matchesQ.data ?? []) as MatchLike[]),\n    [matchesQ.data],\n  );\n\n  const isLoading = matchesQ.isLoading;\n  const error = matchesQ.error ? t(\"loadError\", \"Failed to load matches\") : null;\n\n  const matches = useMemo(() => {\n    if (loopsFilter.mode === \"all\") return matchesAll;\n    const set = new Set(loopsFilter.selectedLoopIds);\n    return matchesAll.filter((m) => m.loopId && set.has(m.loopId));\n  }, [matchesAll, loopsFilter]);\n\n  const summary = useMemo(() => {\n    const statuses = matches.map((m) => statusKey(m.status));\n    return buildSummary(statuses);\n  }, [matches]);\n\n  const hasMatches = summary.total > 0;\n\n  const recent = useMemo<RecentJob[]>(() => {\n    const copy: RecentJob[] = matches.map((m) => ({\n      id: m.id,\n      title: m.title ?? null,\n      company: m.company ?? null,\n      status: m.status,\n      createdAt: m.createdAt,\n    }));\n    copy.sort((a, b) => toMillis(b.createdAt) - toMillis(a.createdAt));\n    return copy.slice(0, 5);\n  }, [matches]);\n\n  const chartMatches = useMemo<DashboardChartMatch[]>(() => {\n    return matches.flatMap((m) => {\n      const st = normalizeStatus(m.status);\n      if (!st) return [];\n      return [\n        {\n          status: st,\n          createdAt: m.createdAt,\n          updatedAt: m.updatedAt,\n          loopId: m.loopId,\n        },\n      ];\n    });\n  }, [matches]);\n\n  const pipelineSummary = useMemo(() => {\n    return toPipelineSummary(summary.total, summary.byStatus);\n  }, [summary]);\n\n  return {\n    userId,\n    loops,\n    loopsFilter,\n    setLoopsFilter,\n    matches,\n    matchesAll,\n    chartMatches,\n    isLoading,\n    error,\n    hasMatches,\n    recentJobs: recent,\n    recent,\n    pipelineSummary,\n  };\n}\n","import React from \"react\";\n\nexport type IconName =\n  | \"user\"\n  | \"question\"\n  | \"loop\"\n  | \"add\"\n  | \"total\"\n  | \"new\"\n  | \"applied\"\n  | \"saved\"\n  | \"interview\"\n  | \"offer\"\n  | \"rejected\";\n\nconst ICONS: Record<IconName, string> = {\n  user: \"üë§\",\n  question: \"‚ùì\",\n  loop: \"üîÅ\",\n  add: \"‚ûï\",\n\n  total: \"üîó\",\n  new: \"üÜï\",\n  applied: \"üìÑ\",\n  saved: \"üîÑ\",\n  interview: \"‚úâÔ∏è\",\n  offer: \"üéâ\",\n  rejected: \"‚ö†Ô∏è\",\n};\n\nconst COLOR: Record<IconName, string> = {\n  // Action rows\n  user: \"text-foreground\",\n  question: \"text-foreground\",\n  loop: \"text-foreground\",\n  add: \"text-foreground\",\n\n  // KPI (–ø–æ —Å–º—ã—Å–ª—É/—Å—Ç–∞—Ç—É—Å—É)\n  total: \"text-foreground\",\n  new: \"text-slate-700 dark:text-slate-200\",\n  applied: \"text-blue-600 dark:text-blue-400\",\n  saved: \"text-amber-600 dark:text-amber-400\",\n  interview: \"text-purple-600 dark:text-purple-400\",\n  offer: \"text-emerald-600 dark:text-emerald-400\",\n  rejected: \"text-red-600 dark:text-red-400\",\n};\n\nexport type DashboardIconProps = {\n  name: IconName;\n  size?: number;\n  className?: string;\n  title?: string;\n};\n\nexport function DashboardIcon({\n  name,\n  size = 18,\n  className,\n  title,\n}: DashboardIconProps) {\n  return (\n    <span\n      aria-hidden={title ? undefined : true}\n      title={title}\n      style={{ fontSize: size }}\n      className={[\n        \"leading-none\",\n        COLOR[name],\n        className ?? \"\",\n      ].join(\" \").trim()}\n    >\n      {ICONS[name]}\n    </span>\n  );\n}\n","import { useTranslation } from \"react-i18next\";\n\nimport { KpiCard, CardButton, Button } from \"src/shared/ui\";\nimport { Card } from \"src/shared/ui/Card/Card\";\n\nimport { DashboardIcon } from \"../DashboardIcon\";\n\ntype Summary = {\n  total: number;\n  new: number;\n  applied: number;\n  saved: number;\n  interview: number;\n  offer: number;\n  rejected: number;\n};\n\ntype Status = \"new\" | \"applied\" | \"interview\" | \"offer\" | \"rejected\";\n\ntype Props = {\n  isLoading: boolean;\n  error?: string | null;\n  summary: Summary;\n  onGoJobs?: (status?: Status) => void;\n\n  onAddFirstJob?: () => void;\n};\n\nexport function DashboardStats({\n  isLoading,\n  error,\n  summary,\n  onGoJobs,\n  onAddFirstJob,\n}: Props) {\n    const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n\n  if (isLoading) {\n    return (\n      <Card padding=\"md\" className=\"rounded-3xl\">\n        <div className=\"text-sm text-muted-foreground\">Loading‚Ä¶</div>\n      </Card>\n    );\n  }\n\n  if (error) {\n    return (\n      <Card padding=\"md\" className=\"rounded-3xl\">\n        <div className=\"text-sm font-medium text-foreground\">\n          Couldn‚Äôt load jobs\n        </div>\n        <div className=\"mt-1 text-sm text-muted-foreground\">{error}</div>\n      </Card>\n    );\n  }\n\n  if (summary.total === 0) {\n    return (\n      <Card padding=\"md\" className=\"rounded-3xl\">\n        <div className=\"flex items-start justify-between gap-4\">\n          <div className=\"min-w-0\">\n            <div className=\"text-base font-semibold text-foreground\">\n              {t(\"stats.empty.title\", \"Add your first job\")}\n            </div>\n            <div className=\"mt-1 text-sm text-muted-foreground\">\n              {t(\n                \"stats.empty.subtitle\",\n                \"Start tracking your applications ‚Äî your statistics will appear here.\",\n              )}\n            </div>\n          </div>\n\n          <Button variant=\"outline\" shadow=\"sm\" onClick={onAddFirstJob}>\n            {t(\"stats.empty.cta\", \"Add job\")}\n          </Button>\n        </div>\n\n        <div className=\"mt-4 grid grid-cols-2 gap-3 sm:grid-cols-5\">\n          <MiniStat label={t(\"status.new\", \"New\")} value={0} />\n          <MiniStat label={t(\"status.applied\", \"Applied\")} value={0} />\n          <MiniStat label={t(\"status.interview\", \"Interview\")} value={0} />\n          <MiniStat label={t(\"status.offer\", \"Offer\")} value={0} />\n          <MiniStat label={t(\"status.rejected\", \"Rejected\")} value={0} />\n        </div>\n      </Card>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      <div className=\"text-lg font-semibold text-foreground\">\n        {t(\"stats.title\", \"Statistics\")}\n      </div>\n\n      <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3\">\n        <CardButton onClick={() => onGoJobs?.(\"new\")}>\n          <KpiCard\n            title={t(\"status.new\", \"New\")}\n            value={summary.new}\n            icon={<DashboardIcon name=\"new\" />}\n          />\n        </CardButton>\n\n        <CardButton onClick={() => onGoJobs?.(\"applied\")}>\n          <KpiCard\n            title={t(\"status.applied\", \"Applied\")}\n            value={summary.applied}\n            icon={<DashboardIcon name=\"applied\" />}\n          />\n        </CardButton>\n\n        <CardButton onClick={() => onGoJobs?.(\"interview\")}>\n          <KpiCard\n            title={t(\"status.interview\", \"Interview\")}\n            value={summary.interview}\n            icon={<DashboardIcon name=\"interview\" />}\n          />\n        </CardButton>\n\n        <CardButton onClick={() => onGoJobs?.(\"offer\")}>\n          <KpiCard\n            title={t(\"status.offer\", \"Offer\")}\n            value={summary.offer}\n            icon={<DashboardIcon name=\"offer\" />}\n          />\n        </CardButton>\n\n        <CardButton onClick={() => onGoJobs?.(\"rejected\")}>\n          <KpiCard\n            title={t(\"status.rejected\", \"Rejected\")}\n            value={summary.rejected}\n            icon={<DashboardIcon name=\"rejected\" />}\n          />\n        </CardButton>\n      </div>\n    </div>\n  );\n}\n\nfunction MiniStat({ label, value }: { label: string; value: number }) {\n  return (\n    <div className=\"rounded-lg border border-border bg-background p-3\">\n      <div className=\"text-xs text-muted-foreground\">{label}</div>\n      <div className=\"mt-1 text-lg font-semibold text-foreground\">{value}</div>\n    </div>\n  );\n}\n","import { useTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n  AppRoutes,\n  RoutePath,\n} from \"src/app/providers/router/routeConfig/routeConfig\";\nimport { DonutChart } from \"src/shared/ui\";\nimport { Card } from \"src/shared/ui/Card/Card\";\n\ntype Summary = {\n  total: number;\n  new: number;\n  applied: number;\n  saved: number;\n  interview: number;\n  offer: number;\n  rejected: number;\n};\n\ntype Props = {\n  summary: Summary;\n  size?: number;\n  stroke?: number;\n};\n\nexport function DashboardPipelineCard({\n  summary,\n  size = 240,\n  stroke = 16,\n}: Props) {\n   const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n\n  // \"–í–æ—Ä–æ–Ω–∫–∞\" ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —ç—Ç–∞–ø—ã, –±–µ–∑ Saved.\n  const inPipeline =\n    summary.new +\n    summary.applied +\n    summary.interview +\n    summary.offer +\n    summary.rejected;\n\n  return (\n    <Card padding=\"md\" className=\"rounded-3xl\">\n      <div className=\"flex justify-center\">\n        <DonutChart\n          title={t(\"pipeline.title\", \"Applications pipeline\")}\n          totalLabel={t(\"pipeline.totalLabel\", \"In pipeline\")}\n          centerTop={`${inPipeline}`}\n          centerBottom={t(\"pipeline.centerBottom\", \"of {{total}} total\", {\n            total: summary.total,\n          })}\n          size={size}\n          stroke={stroke}\n          slices={[\n            {\n              label: t(\"status.new\", \"New\"),\n              value: summary.new,\n              className: \"stroke-sky-500\",\n            },\n            {\n              label: t(\"status.applied\", \"Applied\"),\n              value: summary.applied,\n              className: \"stroke-blue-500\",\n            },\n            {\n              label: t(\"status.interview\", \"Interview\"),\n              value: summary.interview,\n              className: \"stroke-purple-500\",\n            },\n            {\n              label: t(\"status.offer\", \"Offer\"),\n              value: summary.offer,\n              className: \"stroke-emerald-500\",\n            },\n            {\n              label: t(\"status.rejected\", \"Rejected\"),\n              value: summary.rejected,\n              className: \"stroke-red-500\",\n            },\n          ]}\n        />\n      </div>\n\n      <div className=\"mt-4 rounded-2xl border border-border bg-background p-3\">\n        <div className=\"text-sm font-medium text-foreground\">\n          {t(\n            \"pipeline.profileCta.title\",\n            \"Improve your results\",\n          )}\n        </div>\n        <div className=\"mt-1 text-xs text-muted-foreground\">\n          {t(\n            \"pipeline.profileCta.subtitle\",\n            \"Fill out your profile so we can tailor your applications.\",\n          )}\n        </div>\n\n        <Link\n          to={RoutePath[AppRoutes.SETTINGS_PROFILE]}\n          className=\"mt-3 inline-flex items-center justify-center rounded-full border border-border bg-background px-3 py-1.5 text-xs font-medium text-foreground shadow-sm transition-colors hover:bg-muted\"\n        >\n          {t(\"pipeline.profileCta.button\", \"Complete profile\")}\n        </Link>\n      </div>\n    </Card>\n  );\n}\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { Button } from \"src/shared/ui\";\nimport { Card } from \"src/shared/ui/Card/Card\";\n\nexport type RecentJob = {\n  id: string;\n  title?: string | null;\n  company?: string | null;\n  status?: unknown;\n  createdAt?: unknown;\n};\n\ntype Props = {\n  jobs: RecentJob[];\n  onViewAll: () => void;\n  onOpenJob?: (jobId: string) => void;\n  className?: string;\n};\n\nfunction toMillis(value: unknown): number | null {\n  if (!value) return null;\n\n  if (typeof (value as { toMillis?: unknown }).toMillis === \"function\") {\n    return (value as { toMillis: () => number }).toMillis();\n  }\n\n  if (typeof value === \"number\") return value;\n\n  const seconds = (value as { seconds?: unknown }).seconds;\n  if (typeof seconds === \"number\") return seconds * 1000;\n\n  return null;\n}\n\ntype Translator = (\n  key: string,\n  fallback: string,\n  options?: Record<string, unknown>,\n) => string;\n\nfunction formatRelative(\n  t: Translator,\n  ms: number | null,\n  nowMs: number,\n): string | null {\n  if (!ms) return null;\n\n  const diff = nowMs - ms;\n  if (diff < 0) return t(\"recent.time.justNow\", \"just now\");\n\n  const sec = Math.floor(diff / 1000);\n  if (sec < 60) return t(\"recent.time.justNow\", \"just now\");\n\n  const min = Math.floor(sec / 60);\n  if (min < 60)\n    return t(\"recent.time.minutesAgo\", \"{{count}}m ago\", {\n      count: min,\n    });\n\n  const hr = Math.floor(min / 60);\n  if (hr < 24)\n    return t(\"recent.time.hoursAgo\", \"{{count}}h ago\", {\n      count: hr,\n    });\n\n  const days = Math.floor(hr / 24);\n  if (days < 7)\n    return t(\"recent.time.daysAgo\", \"{{count}}d ago\", {\n      count: days,\n    });\n\n  const weeks = Math.floor(days / 7);\n  if (weeks < 5)\n    return t(\"recent.time.weeksAgo\", \"{{count}}w ago\", {\n      count: weeks,\n    });\n\n  const months = Math.floor(days / 30);\n  if (months < 12)\n    return t(\"recent.time.monthsAgo\", \"{{count}}mo ago\", {\n      count: months,\n    });\n\n  const years = Math.floor(days / 365);\n  return t(\"recent.time.yearsAgo\", \"{{count}}y ago\", {\n    count: years,\n  });\n}\n\nfunction normalizeStatus(\n  value: unknown,\n):\n  | \"new\"\n  | \"saved\"\n  | \"applied\"\n  | \"interview\"\n  | \"offer\"\n  | \"rejected\"\n  | \"unknown\" {\n  const raw = typeof value === \"string\" ? value.trim().toLowerCase() : \"\";\n  if (raw === \"new\") return \"new\";\n  if (raw === \"saved\") return \"saved\";\n  if (raw === \"applied\") return \"applied\";\n  if (raw === \"interview\") return \"interview\";\n  if (raw === \"offer\") return \"offer\";\n  if (raw === \"rejected\") return \"rejected\";\n  return \"unknown\";\n}\n\nfunction statusBadgeClass(st: ReturnType<typeof normalizeStatus>): string {\n  switch (st) {\n    case \"new\":\n      return \"border-sky-200 bg-sky-50 text-sky-700 dark:border-sky-900/50 dark:bg-sky-950/40 dark:text-sky-200\";\n    case \"saved\":\n      return \"border-amber-200 bg-amber-50 text-amber-700 dark:border-amber-900/50 dark:bg-amber-950/40 dark:text-amber-200\";\n    case \"applied\":\n      return \"border-blue-200 bg-blue-50 text-blue-700 dark:border-blue-900/50 dark:bg-blue-950/40 dark:text-blue-200\";\n    case \"interview\":\n      return \"border-purple-200 bg-purple-50 text-purple-700 dark:border-purple-900/50 dark:bg-purple-950/40 dark:text-purple-200\";\n    case \"offer\":\n      return \"border-emerald-200 bg-emerald-50 text-emerald-700 dark:border-emerald-900/50 dark:bg-emerald-950/40 dark:text-emerald-200\";\n    case \"rejected\":\n      return \"border-red-200 bg-red-50 text-red-700 dark:border-red-900/50 dark:bg-red-950/40 dark:text-red-200\";\n    default:\n      return \"border-border bg-muted text-foreground\";\n  }\n}\n\nexport function DashboardRecentJobsCard({\n  jobs,\n  onViewAll,\n  onOpenJob,\n  className,\n}: Props) {\n  const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n  const [nowMs] = useState<number>(() => Date.now());\n\n  const tr: Translator = (key, fallback, options) =>\n    String(t(key, { defaultValue: fallback, ...(options ?? {}) }));\n\n  return (\n    <Card\n      padding=\"md\"\n      className={[\"flex h-full flex-col rounded-3xl\", className]\n        .filter(Boolean)\n        .join(\" \")}\n    >\n      <div className=\"flex items-center justify-between\">\n        <div className=\"text-base font-semibold text-foreground\">\n          {tr(\"recent.title\", \"Recent applications\")}\n        </div>\n        <Button variant=\"link\" className=\"px-0\" onClick={onViewAll}>\n          {tr(\"recent.viewAll\", \"View all\")}\n        </Button>\n      </div>\n\n      {jobs.length === 0 ? (\n        <div className=\"mt-3 text-sm text-muted-foreground\">\n          {tr(\n            \"recent.empty\",\n            \"No applications yet. Add your first one to see activity here.\",\n          )}\n        </div>\n      ) : (\n        <div className=\"mt-4 flex-1 space-y-2 overflow-y-auto pr-1\">\n          {jobs.map((j) => {\n            const rel = formatRelative(tr, toMillis(j.createdAt), nowMs);\n            const normalized = normalizeStatus(j.status);\n            const statusLabel =\n              normalized === \"unknown\"\n                ? tr(\"status.unknown\", \"Unknown\")\n                : tr(`status.${normalized}`, normalized);\n\n            return (\n              <button\n                key={j.id}\n                type=\"button\"\n                onClick={() => (onOpenJob ? onOpenJob(j.id) : onViewAll())}\n                className={[\n                  \"w-full text-left\",\n                  \"rounded-lg border border-border bg-background p-3\",\n                  \"transition-colors\",\n                  \"hover:bg-muted\",\n                  \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-border\",\n                  \"cursor-pointer\",\n                ].join(\" \")}\n              >\n                <div className=\"flex items-start justify-between gap-3\">\n                  <div className=\"min-w-0\">\n                    <div className=\"truncate text-sm font-medium text-foreground\">\n                      {j.title || tr(\"recent.untitled\", \"Untitled role\")}\n                    </div>\n                    <div className=\"truncate text-xs text-muted-foreground\">\n                      {j.company || tr(\"recent.company\", \"Company\")}\n                    </div>\n                  </div>\n\n                  <div className=\"shrink-0 text-right\">\n                    <div\n                      className={[\n                        \"inline-flex rounded-full border px-2 py-0.5 text-xs font-medium\",\n                        statusBadgeClass(normalized),\n                      ].join(\" \")}\n                    >\n                      {statusLabel}\n                    </div>\n\n                    {rel && (\n                      <div className=\"mt-1 text-xs text-muted-foreground\">\n                        {tr(\"recent.created\", \"Created\")}&nbsp;{rel}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </button>\n            );\n          })}\n        </div>\n      )}\n    </Card>\n  );\n}\n","import { useTranslation } from \"react-i18next\";\n\nimport { ActionRow } from \"src/shared/ui\";\n\nimport { DashboardIcon } from \"../DashboardIcon\";\n\ntype Props = {\n  hasJobs: boolean;\n  onGoProfile: () => void;\n  onGoQuestions: () => void;\n  onGoLoop: () => void;\n  onGoJobs: () => void;\n  className?: string;\n};\n\nexport function DashboardOnboardingActions({\n  hasJobs,\n  onGoProfile,\n  onGoQuestions,\n  onGoLoop,\n  onGoJobs,\n  className,\n}: Props) {\n  const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n\n  const goText = t(\"common.go\");\n  const doneText = t(\"common.done\");\n\n  return (\n    <div className={className}>\n      <div className=\"grid grid-cols-1 gap-3 md:max-w-[520px]\">\n        <ActionRow\n          icon={<DashboardIcon name=\"user\" />}\n          title={t(\"onboarding.setupProfile\")}\n          onGo={onGoProfile}\n          goText={goText}\n          doneText={doneText}\n        />\n\n        <ActionRow\n          icon={<DashboardIcon name=\"question\" />}\n          title={t(\"onboarding.answerQuestions\")}\n          onGo={onGoQuestions}\n          goText={goText}\n          doneText={doneText}\n        />\n\n        <ActionRow\n          icon={<DashboardIcon name=\"loop\" />}\n          title={t(\"onboarding.startFirstLoop\")}\n          onGo={onGoLoop}\n          goText={goText}\n          doneText={doneText}\n        />\n\n        <ActionRow\n          icon={<DashboardIcon name=\"add\" />}\n          title={hasJobs ? t(\"onboarding.addAnotherJob\") : t(\"onboarding.addFirstJob\")}\n          onGo={onGoJobs}\n          goText={goText}\n          doneText={doneText}\n        />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { classNames } from \"src/shared/lib\";\nimport { Button, Modal } from \"src/shared/ui\";\n\nexport type DashboardLoopsFilterValue =\n  | { mode: \"all\" }\n  | { mode: \"selected\"; selectedLoopIds: string[] };\n\nexport type DashboardLoopOption = {\n  id: string;\n  name: string;\n};\n\ntype Props = {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  loops: DashboardLoopOption[];\n  value: DashboardLoopsFilterValue;\n  onChange: (next: DashboardLoopsFilterValue) => void;\n};\n\nfunction uniq(ids: string[]): string[] {\n  return Array.from(new Set(ids));\n}\n\nexport function DashboardLoopsFilterModal({\n  open,\n  onOpenChange,\n  loops,\n  value,\n  onChange,\n}: Props) {\n    const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n\n  const isAll = value.mode === \"all\";\n  const selected = React.useMemo(() => {\n    if (value.mode !== \"selected\") return [];\n    return uniq(value.selectedLoopIds);\n  }, [value]);\n\n  const setAll = React.useCallback(() => {\n    onChange({ mode: \"all\" });\n  }, [onChange]);\n\n  const setSelectedMode = React.useCallback(() => {\n    onChange({ mode: \"selected\", selectedLoopIds: selected });\n  }, [onChange, selected]);\n\n  const toggleLoop = React.useCallback(\n    (loopId: string) => {\n      const base = new Set(selected);\n      if (base.has(loopId)) base.delete(loopId);\n      else base.add(loopId);\n      onChange({ mode: \"selected\", selectedLoopIds: Array.from(base) });\n    },\n    [onChange, selected]\n  );\n\n  const selectAll = React.useCallback(() => {\n    onChange({ mode: \"selected\", selectedLoopIds: loops.map((l) => l.id) });\n  }, [loops, onChange]);\n\n  const clearAll = React.useCallback(() => {\n    onChange({ mode: \"selected\", selectedLoopIds: [] });\n  }, [onChange]);\n\n  return (\n    <Modal\n      open={open}\n      onOpenChange={onOpenChange}\n      title={t(\"loopsFilter.title\", \"Dashboard loops\")}\n      description={t(\n        \"loopsFilter.desc\",\n        \"Choose which loops should be included in dashboard stats and recent jobs.\"\n      )}\n      size=\"md\"\n    >\n      <div className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <label className=\"flex items-center gap-2\">\n            <input\n              type=\"radio\"\n              name=\"dashboard-loops-filter\"\n              checked={isAll}\n              onChange={setAll}\n            />\n            <span className=\"text-sm text-foreground\">\n              {t(\"loopsFilter.all\", \"All loops\")}\n            </span>\n          </label>\n\n          <label className=\"flex items-center gap-2\">\n            <input\n              type=\"radio\"\n              name=\"dashboard-loops-filter\"\n              checked={!isAll}\n              onChange={setSelectedMode}\n            />\n            <span className=\"text-sm text-foreground\">\n              {t(\"loopsFilter.selected\", \"Only selected loops\")}\n            </span>\n          </label>\n        </div>\n\n        {!isAll ? (\n          <div className=\"space-y-3\">\n            <div className=\"flex flex-wrap items-center gap-2\">\n              <Button\n                size=\"sm\"\n                variant=\"outline\"\n                shape=\"pill\"\n                onClick={selectAll}\n              >\n                {t(\"loopsFilter.selectAll\", \"Select all\")}\n              </Button>\n              <Button\n                size=\"sm\"\n                variant=\"outline\"\n                shape=\"pill\"\n                onClick={clearAll}\n              >\n                {t(\"loopsFilter.clear\", \"Clear\")}\n              </Button>\n              <div className=\"text-xs text-muted-foreground\">\n                {t(\"loopsFilter.selectedCount\", \"Selected\")}: {selected.length}\n              </div>\n            </div>\n\n            <div className=\"rounded-xl border border-border bg-card\">\n              {loops.length === 0 ? (\n                <div className=\"p-4 text-sm text-muted-foreground\">\n                  {t(\"loopsFilter.noLoops\", \"No loops found.\")}\n                </div>\n              ) : (\n                <ul className=\"divide-y divide-border\">\n                  {loops.map((l) => {\n                    const checked = selected.includes(l.id);\n                    return (\n                      <li key={l.id} className=\"p-3\">\n                        <label className=\"flex items-center gap-3 cursor-pointer\">\n                          <input\n                            type=\"checkbox\"\n                            checked={checked}\n                            onChange={() => toggleLoop(l.id)}\n                          />\n                          <span\n                            className={classNames(\n                              \"text-sm\",\n                              checked ? \"text-foreground\" : \"text-muted-foreground\"\n                            )}\n                          >\n                            {l.name}\n                          </span>\n                        </label>\n                      </li>\n                    );\n                  })}\n                </ul>\n              )}\n            </div>\n          </div>\n        ) : null}\n\n        <div className=\"flex justify-end\">\n          <Button size=\"sm\" shape=\"pill\" onClick={() => onOpenChange(false)}>\n            {t(\"common.done\", \"Done\")}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n","import { useTranslation } from \"react-i18next\";\nimport { NavLink } from \"react-router-dom\";\n\nimport {\n  AppRoutes,\n  RoutePath,\n} from \"src/app/providers/router/routeConfig/routeConfig\";\n\ntype Tab = {\n  to: string;\n  labelKey: string;\n  fallback: string;\n  end?: boolean;\n};\n\nconst tabs: Tab[] = [\n  {\n    to: RoutePath[AppRoutes.DASHBOARD],\n    labelKey: \"tabs.overview\",\n    fallback: \"Overview\",\n    end: true,\n  },\n  {\n    to: RoutePath[AppRoutes.DASHBOARD_ANALYTICS],\n    labelKey: \"tabs.analytics\",\n    fallback: \"Analytics\",\n  },\n\n  {\n    to: RoutePath[AppRoutes.DASHBOARD_ACTIVITY],\n    labelKey: \"tabs.activity\",\n    fallback: \"Activity\",\n  },\n];\n\nexport function DashboardTabsNav() {\n   const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n\n  return (\n    <div className=\"flex flex-wrap items-center gap-2\">\n      {tabs.map((tab) => (\n        <NavLink\n          key={tab.to}\n          to={tab.to}\n          end={tab.end}\n          className={({ isActive }) =>\n            [\n              \"rounded-full border px-3 py-1 text-xs font-medium transition\",\n              isActive\n                ? \"border-foreground/30 bg-muted text-foreground\"\n                : \"border-border text-muted-foreground hover:bg-muted/60\",\n            ].join(\" \")\n          }\n        >\n          {t(tab.labelKey, tab.fallback)}\n        </NavLink>\n      ))}\n    </div>\n  );\n}\n","import type { SeriesKey } from \"./trends.types\";\n\nexport const SERIES: SeriesKey[] = [\"applied\", \"interview\", \"offer\", \"rejected\"];\n\nexport const LEGEND_COLOR: Record<SeriesKey, string> = {\n  applied: \"rgb(14 165 233)\", // sky-500\n  interview: \"rgb(139 92 246)\", // violet-500\n  offer: \"rgb(16 185 129)\", // emerald-500\n  rejected: \"rgb(244 63 94)\", // rose-500\n};\n\n// Make overlapping series visible without distorting data:\n// dashed series are easier to distinguish even when values are identical.\nexport const DASH: Partial<Record<SeriesKey, string>> = {\n  interview: \"6 4\",\n  rejected: \"6 4\",\n};\n\nexport function toNumberSafe(v: unknown): number {\n  const n = Number(v);\n  return Number.isFinite(n) ? n : 0;\n}\n\nexport function formatLabel(\n  dateMs: number,\n  locale: string,\n  range: \"7d\" | \"30d\" | \"90d\" | \"12m\",\n): string {\n  const d = new Date(dateMs);\n\n  if (range === \"12m\") {\n    return new Intl.DateTimeFormat(locale, { month: \"short\" }).format(d);\n  }\n\n  if (range === \"7d\") {\n    return new Intl.DateTimeFormat(locale, { weekday: \"short\" }).format(d);\n  }\n\n  return new Intl.DateTimeFormat(locale, { day: \"2-digit\", month: \"short\" }).format(d);\n}\n","import { useTranslation } from \"react-i18next\";\n\nimport { LEGEND_COLOR, SERIES, toNumberSafe } from \"./trends.constants\";\nimport type { SeriesKey } from \"./trends.types\";\n\nexport function TrendsTooltip({\n  active,\n  payload,\n  label,\n}: {\n  active?: boolean;\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  payload?: any[];\n  label?: string | number;\n}) {\n  const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n\n  if (!active || !payload || payload.length === 0) return null;\n\n  const title = typeof label === \"string\" ? label : String(label ?? \"\");\n\n  const items = payload\n    .filter((p) => SERIES.includes(p.dataKey as SeriesKey))\n    .map((p) => {\n      const key = p.dataKey as SeriesKey;\n      return {\n        key,\n        label: String(t(`status.${key}`, { defaultValue: key })),\n        value: toNumberSafe(p.value),\n      };\n    })\n    .sort((a, b) => SERIES.indexOf(a.key) - SERIES.indexOf(b.key));\n\n  return (\n    <div className=\"min-w-[220px] rounded-xl border border-border bg-background/95 p-3 shadow-md backdrop-blur\">\n      <div className=\"text-xs font-semibold text-foreground\">{title}</div>\n\n      <div className=\"mt-2 space-y-2\">\n        {items.map((it) => (\n          <div key={it.key} className=\"flex items-center justify-between gap-3 text-xs\">\n            <div className=\"flex items-center gap-2\">\n              <span\n                className=\"h-2.5 w-2.5 rounded-full\"\n                style={{ backgroundColor: LEGEND_COLOR[it.key] }}\n              />\n              <span className=\"text-muted-foreground\">{it.label}</span>\n            </div>\n            <span className=\"font-semibold text-foreground\">{it.value}</span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import {\n  CartesianGrid,\n  Line,\n  LineChart,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from \"recharts\";\n\nimport { DASH, LEGEND_COLOR } from \"./trends.constants\";\nimport type { SeriesKey, TrendsPoint, VisibleMap } from \"./trends.types\";\nimport { TrendsTooltip } from \"./TrendsTooltip\";\n\nexport function TrendsChart({\n  data,\n  activeSeries,\n  visible,\n  hoverKey,\n}: {\n  data: TrendsPoint[];\n  activeSeries: SeriesKey[];\n  visible: VisibleMap;\n  hoverKey: SeriesKey | null;\n}) {\n  function seriesOpacity(key: SeriesKey): number {\n    if (!visible[key]) return 0;\n    if (!hoverKey) return key === \"applied\" || key === \"offer\" ? 0.85 : 1;\n    return hoverKey === key ? 1 : 0.18;\n  }\n\n  function seriesWidth(key: SeriesKey): number {\n    if (hoverKey === key) return 3;\n    return 2.2;\n  }\n\n  return (\n    <div className=\"h-[260px]\">\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <LineChart data={data} margin={{ top: 8, right: 12, left: 6, bottom: 8 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\n\n          <XAxis\n            dataKey=\"date\"\n            tickLine={false}\n            axisLine={false}\n            interval=\"preserveStartEnd\"\n            minTickGap={24}\n            tick={{ fontSize: 12 }}\n          />\n\n          <YAxis\n            tickLine={false}\n            axisLine={false}\n            width={42}\n            allowDecimals={false}\n            tick={{ fontSize: 12 }}\n          />\n\n          <Tooltip\n            cursor={{ strokeDasharray: \"3 3\" }}\n            content={({ active, payload, label }) => (\n              <TrendsTooltip active={active} payload={payload} label={label} />\n            )}\n          />\n\n          {/* Solid first */}\n          {activeSeries.includes(\"applied\") && (\n            <Line\n              type=\"monotone\"\n              dataKey=\"applied\"\n              stroke={LEGEND_COLOR.applied}\n              strokeWidth={seriesWidth(\"applied\")}\n              strokeOpacity={seriesOpacity(\"applied\")}\n              dot={false}\n              activeDot={{ r: 4 }}\n              isAnimationActive={false}\n            />\n          )}\n\n          {activeSeries.includes(\"offer\") && (\n            <Line\n              type=\"monotone\"\n              dataKey=\"offer\"\n              stroke={LEGEND_COLOR.offer}\n              strokeWidth={seriesWidth(\"offer\")}\n              strokeOpacity={seriesOpacity(\"offer\")}\n              dot={false}\n              activeDot={{ r: 4 }}\n              isAnimationActive={false}\n            />\n          )}\n\n          {/* Dashed on top */}\n          {activeSeries.includes(\"interview\") && (\n            <Line\n              type=\"monotone\"\n              dataKey=\"interview\"\n              stroke={LEGEND_COLOR.interview}\n              strokeWidth={seriesWidth(\"interview\")}\n              strokeOpacity={seriesOpacity(\"interview\")}\n              strokeDasharray={DASH.interview}\n              dot={false}\n              activeDot={{ r: 4 }}\n              isAnimationActive={false}\n            />\n          )}\n\n          {activeSeries.includes(\"rejected\") && (\n            <Line\n              type=\"monotone\"\n              dataKey=\"rejected\"\n              stroke={LEGEND_COLOR.rejected}\n              strokeWidth={seriesWidth(\"rejected\")}\n              strokeOpacity={seriesOpacity(\"rejected\")}\n              strokeDasharray={DASH.rejected}\n              dot={false}\n              activeDot={{ r: 4 }}\n              isAnimationActive={false}\n            />\n          )}\n        </LineChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n","import { Button } from \"src/shared/ui\";\n\nimport { LEGEND_COLOR, SERIES } from \"./trends.constants\";\nimport type { SeriesKey, VisibleMap } from \"./trends.types\";\n\nconst LABELS: Record<SeriesKey, string> = {\n  applied: \"Applied\",\n  interview: \"Interview\",\n  offer: \"Offer\",\n  rejected: \"Rejected\",\n};\n\nexport function TrendsLegend({\n  visible,\n  hoverKey,\n  onToggle,\n  onHover,\n}: {\n  visible: VisibleMap;\n  hoverKey: SeriesKey | null;\n  onToggle: (key: SeriesKey) => void;\n  onHover: (key: SeriesKey | null) => void;\n}) {\n  return (\n    <div className=\"mt-4 flex flex-wrap gap-3\">\n      {SERIES.map((key) => (\n        <Button\n          key={key}\n          variant={visible[key] ? \"outline\" : \"ghost\"}\n          size=\"sm\"\n          shape=\"pill\"\n          shadow=\"none\"\n          onMouseEnter={() => onHover(key)}\n          onMouseLeave={() => onHover(null)}\n          onClick={() => onToggle(key)}\n          className={[\n            \"h-8 gap-2 px-3 text-xs transition\",\n            visible[key]\n              ? \"text-muted-foreground hover:text-foreground\"\n              : \"text-muted-foreground/60 hover:text-foreground\",\n            hoverKey === key ? \"ring-1 ring-foreground/10\" : \"\",\n          ].join(\" \")}\n          aria-pressed={visible[key]}\n        >\n          <span\n            className={[\n              \"h-2.5 w-2.5 rounded-full\",\n              visible[key] ? \"opacity-100\" : \"opacity-40\",\n            ].join(\" \")}\n            style={{ backgroundColor: LEGEND_COLOR[key] }}\n          />\n          <span className=\"whitespace-nowrap\">{LABELS[key]}</span>\n        </Button>\n      ))}\n    </div>\n  );\n}\n","import type { LoopMatchStatus } from \"src/entities/loopMatch\";\n\nexport type MatchTimestampsLike = {\n  status: LoopMatchStatus;\n  createdAt: unknown;\n  updatedAt: unknown;\n  loopId?: string | undefined;\n};\n\nexport type Bucket = {\n  label: string;\n  startMs: number;\n  endMs: number;\n  counts: Record<LoopMatchStatus, number>;\n};\n\n\nexport function parseMs(v: unknown): number | null {\n  if (v == null) return null;\n\n  if (typeof v === \"number\" && Number.isFinite(v)) return v;\n\n  if (typeof v === \"string\") {\n    const t = Date.parse(v);\n    return Number.isFinite(t) ? t : null;\n  }\n\n  // Firestore Timestamp-like: { seconds, nanoseconds } or { toMillis() }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const anyV: any = v;\n  if (anyV && typeof anyV.toMillis === \"function\") {\n    const n = anyV.toMillis();\n    return typeof n === \"number\" && Number.isFinite(n) ? n : null;\n  }\n  if (anyV && typeof anyV.seconds === \"number\") {\n    return Math.round(anyV.seconds * 1000);\n  }\n\n  return null;\n}\n\nexport function diffDays(aMs: number, bMs: number): number {\n  const d = Math.abs(bMs - aMs);\n  return Math.round(d / (24 * 60 * 60 * 1000));\n}\n\nexport function medianDays(values: number[]): number | null {\n  const xs = values.filter((x) => Number.isFinite(x)).sort((a, b) => a - b);\n  if (xs.length === 0) return null;\n  const mid = Math.floor(xs.length / 2);\n  return xs.length % 2 === 1 ? xs[mid] : Math.round((xs[mid - 1] + xs[mid]) / 2);\n}\n\nexport function normalizeStatus(s: unknown): LoopMatchStatus {\n  if (s === \"new\" || s === \"saved\" || s === \"applied\" || s === \"interview\" || s === \"offer\" || s === \"rejected\") {\n    return s;\n  }\n  return \"new\";\n}\n\nfunction emptyCounts(): Record<LoopMatchStatus, number> {\n  return {\n    new: 0,\n    saved: 0,\n    applied: 0,\n    interview: 0,\n    offer: 0,\n    rejected: 0,\n  };\n}\n\nfunction startOfDayMs(ms: number): number {\n  const d = new Date(ms);\n  d.setHours(0, 0, 0, 0);\n  return d.getTime();\n}\n\nfunction startOfWeekMs(ms: number): number {\n  const d = new Date(startOfDayMs(ms));\n  const day = d.getDay(); // 0 Sun\n  const diff = (day + 6) % 7; // Mon=0\n  d.setDate(d.getDate() - diff);\n  return d.getTime();\n}\n\nfunction fmtDayLabel(ms: number, locale: string): string {\n  const d = new Date(ms);\n  return new Intl.DateTimeFormat(locale, { month: \"short\", day: \"2-digit\" }).format(d);\n}\n\nfunction fmtMonthLabel(ms: number, locale: string): string {\n  const d = new Date(ms);\n  return new Intl.DateTimeFormat(locale, { month: \"short\" }).format(d);\n}\n\nfunction fmtWeekLabel(ms: number, locale: string): string {\n  const d = new Date(ms);\n  // \"Wk 12\" style could be nicer, but keep stable: \"dd MMM\"\n  return new Intl.DateTimeFormat(locale, { month: \"short\", day: \"2-digit\" }).format(d);\n}\n\nexport function buildDailyBuckets(matches: MatchTimestampsLike[], opts: { days: number; byUpdatedAt: boolean; locale: string }): Bucket[] {\n  const now = Date.now();\n  const end = startOfDayMs(now) + 24 * 60 * 60 * 1000;\n  const start = end - opts.days * 24 * 60 * 60 * 1000;\n\n  const buckets: Bucket[] = [];\n  for (let i = 0; i < opts.days; i++) {\n    const bStart = start + i * 24 * 60 * 60 * 1000;\n    const bEnd = bStart + 24 * 60 * 60 * 1000;\n    buckets.push({\n      label: fmtDayLabel(bStart, opts.locale),\n      startMs: bStart,\n      endMs: bEnd,\n      counts: emptyCounts(),\n    });\n  }\n\n  for (const m of matches) {\n    const ts = parseMs(opts.byUpdatedAt ? m.updatedAt : m.createdAt);\n    if (ts == null) continue;\n    if (ts < start || ts >= end) continue;\n    const idx = Math.floor((startOfDayMs(ts) - start) / (24 * 60 * 60 * 1000));\n    const b = buckets[idx];\n    if (!b) continue;\n    const st = normalizeStatus(m.status);\n    b.counts[st] += 1;\n  }\n\n  return buckets;\n}\n\nexport function buildWeeklyBuckets(matches: MatchTimestampsLike[], opts: { weeks: number; byUpdatedAt: boolean; locale: string }): Bucket[] {\n  const now = Date.now();\n  const end = startOfWeekMs(now) + 7 * 24 * 60 * 60 * 1000;\n  const start = end - opts.weeks * 7 * 24 * 60 * 60 * 1000;\n\n  const buckets: Bucket[] = [];\n  for (let i = 0; i < opts.weeks; i++) {\n    const bStart = start + i * 7 * 24 * 60 * 60 * 1000;\n    const bEnd = bStart + 7 * 24 * 60 * 60 * 1000;\n    buckets.push({\n      label: fmtWeekLabel(bStart, opts.locale),\n      startMs: bStart,\n      endMs: bEnd,\n      counts: emptyCounts(),\n    });\n  }\n\n  for (const m of matches) {\n    const ts = parseMs(opts.byUpdatedAt ? m.updatedAt : m.createdAt);\n    if (ts == null) continue;\n    if (ts < start || ts >= end) continue;\n    const idx = Math.floor((startOfWeekMs(ts) - start) / (7 * 24 * 60 * 60 * 1000));\n    const b = buckets[idx];\n    if (!b) continue;\n    const st = normalizeStatus(m.status);\n    b.counts[st] += 1;\n  }\n\n  return buckets;\n}\n\nexport function buildMonthlyBuckets(matches: MatchTimestampsLike[], opts: { months: number; byUpdatedAt: boolean; locale: string }): Bucket[] {\n  const now = new Date();\n  now.setHours(0, 0, 0, 0);\n\n  const end = new Date(now.getFullYear(), now.getMonth() + 1, 1).getTime(); // next month start\n  const startDate = new Date(now.getFullYear(), now.getMonth() - (opts.months - 1), 1);\n  const start = startDate.getTime();\n\n  const buckets: Bucket[] = [];\n  for (let i = 0; i < opts.months; i++) {\n    const d = new Date(startDate.getFullYear(), startDate.getMonth() + i, 1);\n    const bStart = d.getTime();\n    const bEnd = new Date(d.getFullYear(), d.getMonth() + 1, 1).getTime();\n    buckets.push({\n      label: fmtMonthLabel(bStart, opts.locale),\n      startMs: bStart,\n      endMs: bEnd,\n      counts: emptyCounts(),\n    });\n  }\n\n  for (const m of matches) {\n    const ts = parseMs(opts.byUpdatedAt ? m.updatedAt : m.createdAt);\n    if (ts == null) continue;\n    if (ts < start || ts >= end) continue;\n    const d = new Date(ts);\n    const idx = (d.getFullYear() - startDate.getFullYear()) * 12 + (d.getMonth() - startDate.getMonth());\n    const b = buckets[idx];\n    if (!b) continue;\n    const st = normalizeStatus(m.status);\n    b.counts[st] += 1;\n  }\n\n  return buckets;\n}\n\nexport type PipelineLinePoint = { label: string; value: number };\n\nexport function bucketToPipelineLine(buckets: Bucket[]): PipelineLinePoint[] {\n  return buckets.map((b) => ({\n    label: b.label,\n    value:\n      (b.counts.applied || 0) +\n      (b.counts.interview || 0) +\n      (b.counts.offer || 0) +\n      (b.counts.rejected || 0),\n  }));\n}\n","import { useMemo } from \"react\";\n\nimport {\n  buildDailyBuckets,\n  buildMonthlyBuckets,\n  buildWeeklyBuckets,\n  type MatchTimestampsLike,\n} from \"../../model/dashboardTimeSeries\";\n\nimport { formatLabel, toNumberSafe } from \"./trends.constants\";\nimport type { ModeKey, RangeKey, TrendsPoint } from \"./trends.types\";\n\ntype BucketLike = { startMs: number; counts: Record<string, unknown> };\n\nexport function useTrendsBuckets(params: {\n  matches: MatchTimestampsLike[];\n  range: RangeKey;\n  mode: ModeKey;\n  locale: string;\n}): BucketLike[] {\n  const { matches, range, mode, locale } = params;\n\n  return useMemo(() => {\n    const byUpdatedAt = mode === \"updated\";\n\n    if (range === \"12m\") {\n      return buildMonthlyBuckets(matches, { months: 12, byUpdatedAt, locale }) as unknown as BucketLike[];\n    }\n\n    if (range === \"7d\") {\n      return buildDailyBuckets(matches, { days: 7, byUpdatedAt, locale }) as unknown as BucketLike[];\n    }\n\n    if (range === \"30d\") {\n      return buildWeeklyBuckets(matches, { weeks: 5, byUpdatedAt, locale }) as unknown as BucketLike[];\n    }\n\n    return buildWeeklyBuckets(matches, { weeks: 13, byUpdatedAt, locale }) as unknown as BucketLike[];\n  }, [matches, range, mode, locale]);\n}\n\nexport function useTrendsChartData(params: {\n  buckets: BucketLike[];\n  locale: string;\n  range: RangeKey;\n}): TrendsPoint[] {\n  const { buckets, locale, range } = params;\n\n  return useMemo(() => {\n    return buckets.map((b) => ({\n      date: formatLabel(b.startMs, locale, range),\n      applied: toNumberSafe(b.counts.applied),\n      interview: toNumberSafe(b.counts.interview),\n      offer: toNumberSafe(b.counts.offer),\n      rejected: toNumberSafe(b.counts.rejected),\n    }));\n  }, [buckets, locale, range]);\n}\n\nexport function useTrendsTotal(chartData: TrendsPoint[]): number {\n  return useMemo(() => {\n    return chartData.reduce(\n      (acc, d) => acc + d.applied + d.interview + d.offer + d.rejected,\n      0,\n    );\n  }, [chartData]);\n}\n","import type { ReactNode } from \"react\";\nimport { useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { Button, Card } from \"src/shared/ui\";\n\nimport type { MatchTimestampsLike } from \"../../model/dashboardTimeSeries\";\n\nimport { SERIES } from \"./trends.constants\";\nimport type { ModeKey, RangeKey, SeriesKey, VisibleMap } from \"./trends.types\";\nimport { TrendsChart } from \"./TrendsChart\";\nimport { TrendsLegend } from \"./TrendsLegend\";\nimport { useTrendsBuckets, useTrendsChartData, useTrendsTotal } from \"./useTrendsData\";\n\nfunction SegButton({\n  active,\n  children,\n  onClick,\n}: {\n  active: boolean;\n  children: ReactNode;\n  onClick: () => void;\n}) {\n  return (\n    <Button\n      onClick={onClick}\n      variant={active ? \"secondary\" : \"ghost\"}\n      size=\"sm\"\n      shape=\"pill\"\n      shadow=\"none\"\n      className={[\n        \"h-9 px-3 text-xs\",\n        active ? \"text-foreground\" : \"text-muted-foreground hover:text-foreground\",\n      ].join(\" \")}\n    >\n      {children}\n    </Button>\n  );\n}\n\nfunction SegGroup({ children }: { children: ReactNode }) {\n  return <div className=\"flex items-center gap-1 rounded-full border bg-background p-1\">{children}</div>;\n}\n\nexport function DashboardTrendsCard({ matches }: { matches: MatchTimestampsLike[] }) {\n  const { t, i18n } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n\n  const [range, setRange] = useState<RangeKey>(\"90d\");\n  const [mode, setMode] = useState<ModeKey>(\"created\");\n\n  const [visible, setVisible] = useState<VisibleMap>({\n    applied: true,\n    interview: true,\n    offer: true,\n    rejected: true,\n  });\n  const [hoverKey, setHoverKey] = useState<SeriesKey | null>(null);\n\n  const buckets = useTrendsBuckets({\n    matches,\n    range,\n    mode,\n    locale: i18n.language,\n  });\n\n  const chartData = useTrendsChartData({\n    buckets,\n    range,\n    locale: i18n.language,\n  });\n\n  const totalInRange = useTrendsTotal(chartData);\n\n  const subtitle = useMemo(() => {\n    const modeLabel =\n      mode === \"updated\"\n        ? String(t(\"trends.mode.updated\", { defaultValue: \"By last update\" }))\n        : String(t(\"trends.mode.created\", { defaultValue: \"By creation date\" }));\n    const rangeLabel = String(t(`range.${range}`, { defaultValue: range }));\n    return `${modeLabel} ¬∑ ${rangeLabel}`;\n  }, [mode, range, t]);\n\n  const activeSeries = useMemo(() => {\n    const picked = SERIES.filter((k) => visible[k]);\n    return picked.length === 0 ? SERIES : picked;\n  }, [visible]);\n\n  function toggleSeries(key: SeriesKey) {\n    setVisible((prev) => ({ ...prev, [key]: !prev[key] }));\n  }\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"flex flex-wrap items-start justify-between gap-4\">\n        <div className=\"space-y-1\">\n          <div className=\"text-sm font-semibold text-foreground\">\n            {String(t(\"trends.title\", { defaultValue: \"Trends\" }))}\n          </div>\n          <div className=\"text-xs text-muted-foreground\">{subtitle}</div>\n        </div>\n\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <SegGroup>\n            {([\"7d\", \"30d\", \"90d\", \"12m\"] as const).map((k) => (\n              <SegButton key={k} active={range === k} onClick={() => setRange(k)}>\n                {String(t(`range.${k}`, { defaultValue: k }))}\n              </SegButton>\n            ))}\n          </SegGroup>\n\n          <div className=\"mx-1 hidden h-6 w-px bg-border sm:block\" />\n\n          <SegGroup>\n            <SegButton active={mode === \"created\"} onClick={() => setMode(\"created\")}>\n              {String(t(\"trends.created\", { defaultValue: \"Created\" }))}\n            </SegButton>\n            <SegButton active={mode === \"updated\"} onClick={() => setMode(\"updated\")}>\n              {String(t(\"trends.updated\", { defaultValue: \"Updated\" }))}\n            </SegButton>\n          </SegGroup>\n        </div>\n      </div>\n\n      <div className=\"mt-6\">\n        {totalInRange === 0 ? (\n          <div className=\"flex min-h-[260px] items-center justify-center rounded-2xl border bg-muted/20 px-6 py-10 text-center\">\n            <div className=\"space-y-1\">\n              <div className=\"text-sm font-medium text-foreground\">\n                {String(t(\"trends.emptyTitle\", { defaultValue: \"No data yet\" }))}\n              </div>\n              <div className=\"text-xs text-muted-foreground\">\n                {String(\n                  t(\"trends.emptySubtitle\", {\n                    defaultValue: \"Add jobs and update statuses to see trends here.\",\n                  }),\n                )}\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"rounded-2xl border bg-background p-3\">\n            <TrendsChart data={chartData} activeSeries={activeSeries} visible={visible} hoverKey={hoverKey} />\n          </div>\n        )}\n      </div>\n\n      {totalInRange > 0 && (\n        <TrendsLegend\n          visible={visible}\n          hoverKey={hoverKey}\n          onToggle={toggleSeries}\n          onHover={setHoverKey}\n        />\n      )}\n    </Card>\n  );\n}\n","import { useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport {\n  AppRoutes,\n  RoutePath,\n} from \"src/app/providers/router/routeConfig/routeConfig\";\nimport type { LoopMatchStatus } from \"src/entities/loopMatch\";\nimport { Button, Card } from \"src/shared/ui\";\n\nimport { diffDays, medianDays, parseMs } from \"../model/dashboardTimeSeries\";\n\ntype MatchLike = {\n  status: LoopMatchStatus;\n  createdAt: unknown;\n  updatedAt: unknown;\n};\n\nconst PIPELINE: LoopMatchStatus[] = [\n  \"applied\",\n  \"interview\",\n  \"offer\",\n  \"rejected\",\n];\n\nfunction pct(num: number, den: number): number {\n  if (den <= 0) return 0;\n  return Math.round((num / den) * 100);\n}\n\nexport function DashboardInsightsCard({ matches }: { matches: MatchLike[] }) {\n  const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n  const navigate = useNavigate();\n\n  const [nowMs] = useState(() => Date.now());\n\n  const counts = useMemo(() => {\n    const m: Record<LoopMatchStatus, number> = {\n      new: 0,\n      saved: 0,\n      applied: 0,\n      interview: 0,\n      offer: 0,\n      rejected: 0,\n    };\n    for (const x of matches) m[x.status] += 1;\n    return m;\n  }, [matches]);\n\n  const medDaysToInterview = useMemo(() => {\n    const values: number[] = [];\n    for (const m of matches) {\n      if (m.status !== \"interview\") continue;\n      const a = parseMs(m.createdAt);\n      const b = parseMs(m.updatedAt);\n      if (!a || !b) continue;\n      values.push(diffDays(a, b));\n    }\n    return medianDays(values);\n  }, [matches]);\n\n  const medDaysToOffer = useMemo(() => {\n    const values: number[] = [];\n    for (const m of matches) {\n      if (m.status !== \"offer\") continue;\n      const a = parseMs(m.createdAt);\n      const b = parseMs(m.updatedAt);\n      if (!a || !b) continue;\n      values.push(diffDays(a, b));\n    }\n    return medianDays(values);\n  }, [matches]);\n\n  const stale = useMemo(() => {\n    // ‚ÄúNeeds attention‚Äù: pipeline items not updated for 14+ days\n    const thresholdDays = 14;\n    const out: Record<LoopMatchStatus, number> = {\n      new: 0,\n      saved: 0,\n      applied: 0,\n      interview: 0,\n      offer: 0,\n      rejected: 0,\n    };\n\n    for (const m of matches) {\n      if (!PIPELINE.includes(m.status)) continue;\n      const upd = parseMs(m.updatedAt) || parseMs(m.createdAt);\n      if (!upd) continue;\n      const days = diffDays(upd, nowMs);\n      if (days >= thresholdDays) out[m.status] += 1;\n    }\n    return out;\n  }, [matches, nowMs]);\n\n  const appliedToInterview = pct(counts.interview + counts.offer + counts.rejected, counts.applied + counts.interview + counts.offer + counts.rejected);\n  const interviewToOffer = pct(counts.offer, counts.interview + counts.offer);\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"text-sm font-semibold text-foreground\">\n        {t(\"insights.title\", \"Insights\")}\n      </div>\n\n      <div className=\"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3\">\n        <Kpi\n          label={t(\"insights.kpi.appliedToInterview\", \"Applied ‚Üí Interview\")}\n          value={`${appliedToInterview}%`}\n        />\n        <Kpi\n          label={t(\"insights.kpi.interviewToOffer\", \"Interview ‚Üí Offer\")}\n          value={`${interviewToOffer}%`}\n        />\n        <Kpi\n          label={t(\"insights.kpi.medianToInterview\", \"Median to Interview\")}\n          value={medDaysToInterview == null ? \"‚Äî\" : `${medDaysToInterview}d`}\n        />\n        <Kpi\n          label={t(\"insights.kpi.medianToOffer\", \"Median to Offer\")}\n          value={medDaysToOffer == null ? \"‚Äî\" : `${medDaysToOffer}d`}\n        />\n        <Kpi\n          label={t(\"insights.kpi.stale\", \"Needs attention\")}\n          value={`${stale.applied + stale.interview + stale.offer + stale.rejected}`}\n        />\n      </div>\n\n      <div className=\"mt-5 rounded-xl border border-border bg-muted/30 p-4\">\n        <div className=\"text-sm font-medium text-foreground\">\n          {t(\"insights.actions.title\", \"Next actions\")}\n        </div>\n        <div className=\"mt-2 space-y-2\">\n          <ActionRow\n            label={t(\"insights.actions.staleApplied\", \"Applied without updates (14+ days)\")}\n            count={stale.applied}\n            onGo={() => navigate(`${RoutePath[AppRoutes.MATCHES]}?status=applied`)}\n            cta={t(\"insights.actions.view\", \"View\")}\n          />\n          <ActionRow\n            label={t(\"insights.actions.staleInterview\", \"Interview without updates (14+ days)\")}\n            count={stale.interview}\n            onGo={() => navigate(`${RoutePath[AppRoutes.MATCHES]}?status=interview`)}\n            cta={t(\"insights.actions.view\", \"View\")}\n          />\n          <ActionRow\n            label={t(\"insights.actions.staleOffer\", \"Offers to follow up (14+ days)\")}\n            count={stale.offer}\n            onGo={() => navigate(`${RoutePath[AppRoutes.MATCHES]}?status=offer`)}\n            cta={t(\"insights.actions.view\", \"View\")}\n          />\n        </div>\n      </div>\n\n      <div className=\"mt-4 flex flex-wrap gap-2\">\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          shape=\"pill\"\n          onClick={() => navigate(RoutePath[AppRoutes.MATCHES])}\n        >\n          {t(\"insights.actions.openAll\", \"Open all\")}\n        </Button>\n        <Button\n          size=\"sm\"\n          variant=\"default\"\n          shape=\"pill\"\n          onClick={() => navigate(RoutePath[AppRoutes.SETTINGS_PROFILE])}\n        >\n          {t(\"pipeline.profileCta.button\")}\n        </Button>\n      </div>\n    </Card>\n  );\n}\n\nfunction Kpi({ label, value }: { label: string; value: string }) {\n  return (\n    <div className=\"rounded-xl border border-border bg-background px-4 py-3\">\n      <div className=\"text-xs text-muted-foreground\">{label}</div>\n      <div className=\"mt-1 text-lg font-semibold text-foreground\">{value}</div>\n    </div>\n  );\n}\n\nfunction ActionRow({\n  label,\n  count,\n  cta,\n  onGo,\n}: {\n  label: string;\n  count: number;\n  cta: string;\n  onGo: () => void;\n}) {\n  return (\n    <div className=\"flex items-center justify-between gap-3\">\n      <div className=\"min-w-0\">\n        <div className=\"truncate text-sm text-foreground\">{label}</div>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <div className=\"min-w-[24px] text-right text-sm text-muted-foreground\">\n          {count}\n        </div>\n        <button\n          type=\"button\"\n          onClick={onGo}\n          className=\"rounded-full border border-border bg-background px-3 py-1 text-xs text-foreground hover:bg-muted\"\n        >\n          {cta}\n        </button>\n      </div>\n    </div>\n  );\n}\n","import { useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport {\n  AppRoutes,\n  RoutePath,\n} from \"src/app/providers/router/routeConfig/routeConfig\";\nimport type { LoopMatchStatus } from \"src/entities/loopMatch\";\nimport { Button, Card } from \"src/shared/ui\";\n\nimport { parseMs, normalizeStatus, diffDays } from \"../model/dashboardTimeSeries\";\n\ntype Props = {\n  matches: {\n    id: string;\n    status?: unknown;\n    createdAt?: unknown;\n    updatedAt?: unknown;\n    title?: string | null;\n    company?: string | null;\n  }[];\n  days?: number;\n  className?: string;\n};\n\nconst STATUS_COLOR: Record<LoopMatchStatus, string> = {\n  new: \"#111827\",\n  saved: \"#6B7280\",\n  applied: \"#3B82F6\",\n  interview: \"#8B5CF6\",\n  offer: \"#10B981\",\n  rejected: \"#EF4444\",\n};\n\nexport function DashboardTimelineCard({ matches, days = 14, className }: Props) {\n  const { t, i18n } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n  const navigate = useNavigate();\n  const [nowMs] = useState(() => Date.now());\n\n  const rows = useMemo(() => {\n    return matches\n      .map((m) => {\n        const when = parseMs(m.updatedAt) || parseMs(m.createdAt);\n        const st = normalizeStatus(m.status);\n        return {\n          id: m.id,\n          title: m.title ?? null,\n          company: m.company ?? null,\n          status: st,\n          when,\n        };\n      })\n      .filter(\n        (\n          x,\n        ): x is {\n          id: string;\n          title: string | null;\n          company: string | null;\n          status: LoopMatchStatus;\n          when: number;\n        } => x.when != null && diffDays(x.when, nowMs) <= days,\n      )\n      .sort((a, b) => b.when - a.when)\n      .slice(0, 24);\n  }, [matches, days, nowMs]);\n\n  return (\n    <Card className={[\"flex h-full flex-col p-6\", className].filter(Boolean).join(\" \")}>\n      <div className=\"flex items-start justify-between gap-3\">\n        <div>\n          <div className=\"text-sm font-semibold text-foreground\">\n            {t(\"timeline.title\", \"Timeline\")}\n          </div>\n          <div className=\"mt-1 text-xs text-muted-foreground\">\n            {t(\"timeline.subtitle\", \"Last {{days}} days\", { days })}\n          </div>\n        </div>\n\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          shape=\"pill\"\n          onClick={() => navigate(RoutePath[AppRoutes.MATCHES])}\n        >\n          {t(\"timeline.viewAll\", \"View all\")}\n        </Button>\n      </div>\n\n      {rows.length === 0 ? (\n        <div className=\"mt-4 text-sm text-muted-foreground\">\n          {t(\"timeline.empty\", \"No recent updates\")}\n        </div>\n      ) : (\n        <div className=\"mt-4 flex-1 space-y-3 overflow-y-auto pr-1\">\n          {rows.map((r) => (\n            <button\n              key={r.id}\n              type=\"button\"\n              className=\"w-full rounded-lg border border-border bg-background p-3 text-left transition hover:bg-muted/40\"\n              onClick={() => navigate(`${RoutePath[AppRoutes.MATCHES]}/${r.id}`)}\n            >\n              <div className=\"flex items-center justify-between gap-3\">\n                <div className=\"min-w-0\">\n                  <div className=\"truncate text-sm font-medium text-foreground\">\n                    {r.title || t(\"recent.untitled\", \"Untitled\")}\n                  </div>\n                  <div className=\"mt-0.5 truncate text-xs text-muted-foreground\">\n                    {r.company || t(\"recent.noCompany\", \"No company\")}\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <span\n                    className=\"h-2.5 w-2.5 rounded-full\"\n                    style={{ backgroundColor: STATUS_COLOR[r.status] }}\n                  />\n                  <span className=\"text-xs text-muted-foreground\">\n                    {t(`status.${r.status}`, r.status)}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"mt-2 text-xs text-muted-foreground\">\n                {new Date(r.when).toLocaleDateString(i18n.language, {\n                  year: \"numeric\",\n                  month: \"short\",\n                  day: \"2-digit\",\n                })}\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n    </Card>\n  );\n}\n","import { useMemo } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport type { LoopMatchStatus } from \"src/entities/loopMatch\";\nimport { Card, RadarChart, type RadarAxis, type RadarSeries } from \"src/shared/ui\";\n\ntype MatchLike = {\n  status: LoopMatchStatus;\n};\n\nconst PIPELINE_STATUSES: LoopMatchStatus[] = [\n  \"applied\",\n  \"interview\",\n  \"offer\",\n  \"rejected\",\n];\n\nconst STATUS_COLOR: Record<LoopMatchStatus, string> = {\n  new: \"#111827\",\n  saved: \"#6B7280\",\n  applied: \"#3B82F6\",\n  interview: \"#8B5CF6\",\n  offer: \"#10B981\",\n  rejected: \"#EF4444\",\n};\n\nfunction normalizeStatus(value: LoopMatchStatus): LoopMatchStatus {\n  return PIPELINE_STATUSES.includes(value) ? value : \"applied\";\n}\n\nexport function DashboardStatusRadarCard({ matches }: { matches: MatchLike[] }) {\n  const { t } = useTranslation(undefined, { keyPrefix: \"dashboard\" });\n\n  const counts = useMemo(() => {\n    const base: Record<LoopMatchStatus, number> = {\n      new: 0,\n      saved: 0,\n      applied: 0,\n      interview: 0,\n      offer: 0,\n      rejected: 0,\n    };\n    for (const m of matches) {\n      if (PIPELINE_STATUSES.includes(m.status)) base[m.status] += 1;\n    }\n    return base;\n  }, [matches]);\n\n  const total =\n    counts.applied + counts.interview + counts.offer + counts.rejected;\n\n  const axes = useMemo<RadarAxis<LoopMatchStatus>[]>(() => {\n    return PIPELINE_STATUSES.map((st) => ({\n      key: st,\n      label: t(`status.${st}`, st),\n    }));\n  }, [t]);\n\n  const series = useMemo<RadarSeries<LoopMatchStatus>[]>(() => {\n    const values: Record<LoopMatchStatus, number> = {\n      new: 0,\n      saved: 0,\n      applied: total ? counts.applied / total : 0,\n      interview: total ? counts.interview / total : 0,\n      offer: total ? counts.offer / total : 0,\n      rejected: total ? counts.rejected / total : 0,\n    };\n\n    return [\n      {\n        key: \"mix\",\n        label: t(\"radar.mix\", \"Mix\"),\n        color: \"#2563EB\",\n        values,\n      },\n      {\n        key: \"rejected\",\n        label: t(\"status.rejected\", \"Rejected\"),\n        color: STATUS_COLOR.rejected,\n        values: {\n          ...values,\n          rejected: total ? counts.rejected / total : 0,\n          applied: 0,\n          interview: 0,\n          offer: 0,\n          new: 0,\n          saved: 0,\n        } as Record<LoopMatchStatus, number>,\n      },\n    ];\n  }, [counts.applied, counts.interview, counts.offer, counts.rejected, t, total]);\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"space-y-1\">\n        <div className=\"text-sm font-semibold text-foreground\">\n          {t(\"radar.title\", \"Pipeline mix\")}\n        </div>\n        <div className=\"text-xs text-muted-foreground\">\n          {t(\"radar.subtitle\", \"Share by status\")}\n        </div>\n      </div>\n\n      <div className=\"mt-5 flex items-center justify-center\">\n        <RadarChart axes={axes} series={series} size={260} />\n      </div>\n\n      <div className=\"mt-4 grid grid-cols-2 gap-2 text-xs\">\n        {PIPELINE_STATUSES.map((st) => (\n          <div key={st} className=\"flex items-center justify-between gap-2\">\n            <div className=\"flex items-center gap-2\">\n              <span\n                className=\"h-2.5 w-2.5 rounded-full\"\n                style={{ backgroundColor: STATUS_COLOR[st] }}\n              />\n              <span className=\"text-muted-foreground\">\n                {t(`status.${st}`, st)}\n              </span>\n            </div>\n            <span className=\"text-foreground\">\n              {total ? Math.round(((counts[normalizeStatus(st)] ?? 0) / total) * 100) : 0}%\n            </span>\n          </div>\n        ))}\n      </div>\n    </Card>\n  );\n}\n"],"names":["LS_KEY","toMillis","value","ms","Date","parse","Number","isFinite","seconds","useDashboardData","t","useTranslation","undefined","keyPrefix","userId","useAuthSelectors","loops","useGetLoopsQuery","skipToken","data","loopsFilter","setLoopsFilter","useState","raw","mode","parsed","JSON","obj","Array","isArray","selectedLoopIds","filter","x","safeParseFilter","window","localStorage","getItem","useEffect","setItem","stringify","matchesQ","useGetAllMatchesQuery","matchesAll","useMemo","isLoading","error","matches","set","Set","m","loopId","has","summary","statuses","byStatus","total","st","buildSummary","map","statusKey","status","trim","length","toLowerCase","hasMatches","recent","copy","id","title","company","createdAt","sort","a","b","slice","chartMatches","flatMap","v","normalizeStatus","updatedAt","pipelineSummary","pick","k","new","applied","saved","interview","offer","rejected","toPipelineSummary","recentJobs","ICONS","user","question","loop","add","COLOR","DashboardIcon","name","size","className","_jsx","style","fontSize","join","children","DashboardStats","onGoJobs","onAddFirstJob","Card","padding","_jsxs","Button","variant","shadow","onClick","MiniStat","label","CardButton","KpiCard","icon","DashboardPipelineCard","stroke","inPipeline","DonutChart","totalLabel","centerTop","centerBottom","slices","Link","to","RoutePath","AppRoutes","SETTINGS_PROFILE","statusBadgeClass","DashboardRecentJobsCard","jobs","onViewAll","onOpenJob","nowMs","now","tr","key","fallback","options","String","defaultValue","Boolean","j","rel","diff","sec","Math","floor","min","count","hr","days","weeks","months","formatRelative","normalized","statusLabel","type","DashboardOnboardingActions","hasJobs","onGoProfile","onGoQuestions","onGoLoop","goText","doneText","ActionRow","onGo","DashboardLoopsFilterModal","open","onOpenChange","onChange","isAll","selected","React","ids","from","setAll","setSelectedMode","toggleLoop","base","delete","selectAll","l","clearAll","Modal","description","checked","shape","includes","classNames","tabs","DASHBOARD","labelKey","end","DASHBOARD_ANALYTICS","DASHBOARD_ACTIVITY","DashboardTabsNav","tab","NavLink","isActive","SERIES","LEGEND_COLOR","toNumberSafe","n","formatLabel","dateMs","locale","range","d","Intl","DateTimeFormat","month","format","weekday","day","TrendsTooltip","active","payload","items","p","dataKey","indexOf","it","backgroundColor","TrendsChart","activeSeries","visible","hoverKey","seriesOpacity","seriesWidth","ResponsiveContainer","width","height","LineChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","vertical","XAxis","tickLine","axisLine","interval","minTickGap","tick","YAxis","allowDecimals","Tooltip","cursor","content","Line","strokeWidth","strokeOpacity","dot","activeDot","r","isAnimationActive","LABELS","TrendsLegend","onToggle","onHover","onMouseEnter","onMouseLeave","parseMs","anyV","round","diffDays","aMs","bMs","abs","medianDays","values","xs","mid","s","emptyCounts","startOfDayMs","setHours","getTime","startOfWeekMs","getDay","setDate","getDate","fmtDayLabel","fmtMonthLabel","fmtWeekLabel","useTrendsBuckets","params","byUpdatedAt","opts","getFullYear","getMonth","startDate","start","buckets","i","bStart","bEnd","push","startMs","endMs","counts","ts","buildMonthlyBuckets","buildDailyBuckets","buildWeeklyBuckets","SegButton","SegGroup","DashboardTrendsCard","i18n","setRange","setMode","setVisible","setHoverKey","chartData","date","useTrendsChartData","language","totalInRange","reduce","acc","useTrendsTotal","subtitle","picked","prev","PIPELINE","pct","num","den","DashboardInsightsCard","navigate","useNavigate","medDaysToInterview","medDaysToOffer","stale","out","upd","appliedToInterview","interviewToOffer","Kpi","MATCHES","cta","STATUS_COLOR","DashboardTimelineCard","rows","when","toLocaleDateString","year","PIPELINE_STATUSES","DashboardStatusRadarCard","axes","series","color","RadarChart"],"ignoreList":[],"sourceRoot":""}